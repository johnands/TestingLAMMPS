LAMMPS (17 Jan 2017)
# Compute elastic constant tensor for a crystal
#
# Written by Aidan Thompson (Sandia, athomps@sandia.gov)
#
#  This script uses the following three include files.
#
#   init.mod      (must be modified for different crystal structures)
# 	       	  Define units, deformation parameters and initial
#		  configuration of the atoms and simulation cell.
#
#
#   potential.mod    (must be modified for different pair styles)
# 		     Define pair style and other attributes
#		     not stored in restart file
#
#
#   displace.mod    (displace.mod should not need to be modified)
# 		    Perform positive and negative box displacements
# 		    in direction ${dir} and size ${up}.
# 		    It uses the resultant changes
#		    in stress to compute one
# 		    row of the elastic stiffness tensor
#
#		    Inputs variables:
#		    	   dir = the Voigt deformation component
#		    		    (1,2,3,4,5,6)
#		    Global constants:
#       	    	   up = the deformation magnitude (strain units)
#       		   cfac = conversion from LAMMPS pressure units to
#               	   output units for elastic constants
#
#
#  To run this on a different system, it should only be necessary to
#  modify the files init.mod and potential.mod. In order to calculate
#  the elastic constants correctly, care must be taken to specify
#  the correct units in init.mod (units, cfac and cunits). It is also
#  important to verify that the minimization of energy w.r.t atom
#  positions in the deformed cell is fully converged.
#  One indication of this is that the elastic constants are insensitive
#  to the choice of the variable ${up} in init.mod. Another is to check
#  the final max and two-norm forces reported in the log file. If you know
#  that minimization is not required, you can set maxiter = 0.0 in
#  init.mod.
#

include init.mod
# NOTE: This script can be modified for different atomic structures,
# units, etc. See in.elastic for more info.
#

# Define the finite deformation size. Try several values of this
# variable to verify that results do not depend on it.
variable up equal 1.0e-6

# Define the amount of random jiggle for atoms
# This prevents atoms from staying on saddle points
variable atomjiggle equal 1.0e-5

# Uncomment one of these blocks, depending on what units
# you are using in LAMMPS and for output

# metal units, elastic constants in eV/A^3
#units		metal
#variable cfac equal 6.2414e-7
#variable cunits string eV/A^3

# metal units, elastic constants in GPa
units		metal
variable cfac equal 1.0e-4
variable cunits string GPa

# real units, elastic constants in GPa
#units		real
#variable cfac equal 1.01325e-4
#variable cunits string GPa

# Define minimization parameters
variable etol equal 0.0
variable ftol equal 1.0e-10
variable maxiter equal 100
variable maxeval equal 1000
variable dmax equal 1.0e-2

# generate the box and atom positions using a diamond lattice
variable a equal 5.43

boundary	p p p

lattice         diamond $a
lattice         diamond 5.43
Lattice spacing in x,y,z = 5.43 5.43 5.43
region		box prism 0 2.0 0 3.0 0 4.0 0.0 0.0 0.0
create_box	1 box
Created triclinic box = (0 0 0) to (10.86 16.29 21.72) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
create_atoms	1 box
Created 192 atoms

# Need to set mass to something, just to satisfy LAMMPS
mass 1 1.0e-20

include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Compute initial state
fix 3 all box/relax  aniso 0.0
minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 4.17725 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       0            0   -832.42049   -304.57179   -304.57179   -304.57179   -304.57179 5.6985965e-11 3.4801771e-11 2.0488915e-11        10.86        16.29        21.72    3842.4722 
       1            0    -832.4206 -0.0018478861 -0.0018478861 -0.0018478862 -0.0018478861 -3.1323008e-11 -1.1948672e-10 1.6244695e-10    10.858929    16.288394    21.717858    3841.3355 
       2            0    -832.4206 -3.5933067e-08 -3.5864407e-08 -3.603644e-08 -3.5898353e-08 -2.2078056e-10 3.0982219e-11 2.9513609e-10    10.858929    16.288394    21.717858    3841.3355 
       3            0    -832.4206 2.6871884e-11 1.7151201e-11 -2.21061e-11 8.5570549e-11 -4.8136967e-10 1.6160096e-10 3.6111619e-10    10.858929    16.288394    21.717858    3841.3355 
Loop time of 0.186071 on 1 procs for 3 steps with 192 atoms

101.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.420494683     -832.420602749     -832.420602749
  Force two-norm initial, final = 1.26518 6.51591e-13
  Force max component initial, final = 0.730449 2.05182e-13
  Final line search alpha, max atom move = 1 2.05182e-13
  Iterations, force evaluations = 3 6

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 0.18573    | 0.18573    | 0.18573    |   0.0 | 99.82
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 4.1485e-05 | 4.1485e-05 | 4.1485e-05 |   0.0 |  0.02
Output  | 7.081e-05  | 7.081e-05  | 7.081e-05  |   0.0 |  0.04
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.0002298  |            |       |  0.12

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

variable tmp equal pxx
variable pxx0 equal ${tmp}
variable pxx0 equal 1.71512012999748e-11
variable tmp equal pyy
variable pyy0 equal ${tmp}
variable pyy0 equal -2.21060998445337e-11
variable tmp equal pzz
variable pzz0 equal ${tmp}
variable pzz0 equal 8.55705494917435e-11
variable tmp equal pyz
variable pyz0 equal ${tmp}
variable pyz0 equal 3.6111618964783e-10
variable tmp equal pxz
variable pxz0 equal ${tmp}
variable pxz0 equal 1.61600962313103e-10
variable tmp equal pxy
variable pxy0 equal ${tmp}
variable pxy0 equal -4.81369666516238e-10

variable tmp equal lx
variable lx0 equal ${tmp}
variable lx0 equal 10.8589290353888
variable tmp equal ly
variable ly0 equal ${tmp}
variable ly0 equal 16.2883935530833
variable tmp equal lz
variable lz0 equal ${tmp}
variable lz0 equal 21.7178580707777

# These formulas define the derivatives w.r.t. strain components
# Constants uses $, variables use v_
variable d1 equal -(v_pxx1-${pxx0})/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-1.71512012999748e-11)/(v_delta/v_len0)*${cfac}
variable d1 equal -(v_pxx1-1.71512012999748e-11)/(v_delta/v_len0)*0.0001
variable d2 equal -(v_pyy1-${pyy0})/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--2.21060998445337e-11)/(v_delta/v_len0)*${cfac}
variable d2 equal -(v_pyy1--2.21060998445337e-11)/(v_delta/v_len0)*0.0001
variable d3 equal -(v_pzz1-${pzz0})/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-8.55705494917435e-11)/(v_delta/v_len0)*${cfac}
variable d3 equal -(v_pzz1-8.55705494917435e-11)/(v_delta/v_len0)*0.0001
variable d4 equal -(v_pyz1-${pyz0})/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-3.6111618964783e-10)/(v_delta/v_len0)*${cfac}
variable d4 equal -(v_pyz1-3.6111618964783e-10)/(v_delta/v_len0)*0.0001
variable d5 equal -(v_pxz1-${pxz0})/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-1.61600962313103e-10)/(v_delta/v_len0)*${cfac}
variable d5 equal -(v_pxz1-1.61600962313103e-10)/(v_delta/v_len0)*0.0001
variable d6 equal -(v_pxy1-${pxy0})/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--4.81369666516238e-10)/(v_delta/v_len0)*${cfac}
variable d6 equal -(v_pxy1--4.81369666516238e-10)/(v_delta/v_len0)*0.0001

displace_atoms all random ${atomjiggle} ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 ${atomjiggle} ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 1e-05 ${atomjiggle} 87287 units box
displace_atoms all random 1e-05 1e-05 1e-05 87287 units box

# Write restart
unfix 3
write_restart restart.equil

# uxx Perturbation

variable dir equal 1
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
variable len0 equal ${lx0}
variable len0 equal 10.8589290353888
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*10.8589290353888
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -1.08589290353888e-05 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 -1.08589290353888e-05 xy delta -0 xz delta ${deltaxz} remap units box
change_box all x delta 0 -1.08589290353888e-05 xy delta -0 xz delta -0 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206    1.0301262    1.4932879   0.79854898   0.79854161 -0.087536874  -0.28941972 -0.058018364    10.858918    16.288394    21.717858    3841.3317 
       4            0    -832.4206    1.0300478    1.4932072   0.79846834   0.79846786  0.022472804  0.074312334  0.014895358    10.858918    16.288394    21.717858    3841.3317 
       5            0    -832.4206    1.0300422    1.4932013   0.79846237   0.79846289 -0.019359789 -0.064024814 -0.012832066    10.858918    16.288394    21.717858    3841.3317 
       6            0    -832.4206    1.0300414    1.4932005   0.79846185   0.79846183   0.01969861  0.065147491  0.013057424    10.858918    16.288394    21.717858    3841.3317 
       7            0    -832.4206    1.0300412    1.4932002   0.79846173   0.79846174 -0.014517885 -0.048014589 -0.0096233405    10.858918    16.288394    21.717858    3841.3317 
       8            0    -832.4206    1.0300411       1.4932   0.79846162   0.79846163  0.011915122  0.039406992 0.0078981919    10.858918    16.288394    21.717858    3841.3317 
       9            0    -832.4206    1.0300411       1.4932   0.79846159   0.79846161 -0.0095940459 -0.031730602 -0.0063596175    10.858918    16.288394    21.717858    3841.3317 
      10            0    -832.4206     1.030041    1.4931999   0.79846159    0.7984616 0.0082990104   0.02744761 0.0055012002    10.858918    16.288394    21.717858    3841.3317 
      11            0    -832.4206     1.030041    1.4931999   0.79846158    0.7984616 -0.0073190298 -0.024206513 -0.0048515874    10.858918    16.288394    21.717858    3841.3317 
      12            0    -832.4206     1.030041    1.4931999   0.79846159    0.7984616 0.0059368401  0.019635173 0.0039353878    10.858918    16.288394    21.717858    3841.3317 
      13            0    -832.4206     1.030041    1.4931999   0.79846159    0.7984616 -0.004941468 -0.016343129 -0.0032755818    10.858918    16.288394    21.717858    3841.3317 
      14            0    -832.4206     1.030041    1.4931999   0.79846159    0.7984616 0.0033763871  0.011166893 0.0022381433    10.858918    16.288394    21.717858    3841.3317 
      15            0    -832.4206     1.030041    1.4931999   0.79846159    0.7984616 -0.002217723 -0.0073347898 -0.0014701018    10.858918    16.288394    21.717858    3841.3317 
      16            0    -832.4206     1.030041    1.4931999   0.79846159    0.7984616 0.0015231694 0.0050376734 0.0010097092    10.858918    16.288394    21.717858    3841.3317 
      17            0    -832.4206     1.030041    1.4931999   0.79846159    0.7984616 -0.00095846799 -0.0031700128 -0.00063539038    10.858918    16.288394    21.717858    3841.3317 
      18            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 0.00062201872 0.0020572661 0.00041237261    10.858918    16.288394    21.717858    3841.3317 
      19            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -0.00029668727 -0.00098127662 -0.00019671212    10.858918    16.288394    21.717858    3841.3317 
      20            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 0.00016436653 0.00054365216 0.00010900718    10.858918    16.288394    21.717858    3841.3317 
      21            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -8.5743028e-05 -0.00028361526 -5.6887998e-05    10.858918    16.288394    21.717858    3841.3317 
      22            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 4.4482663e-05 0.00014715641 2.9542562e-05    10.858918    16.288394    21.717858    3841.3317 
      23            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -3.5676707e-05 -0.00011805818 -2.3746724e-05    10.858918    16.288394    21.717858    3841.3317 
      24            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 1.5695871e-05 5.1964904e-05 1.0487197e-05    10.858918    16.288394    21.717858    3841.3317 
      25            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -1.3168685e-05 -4.3648356e-05 -8.8771102e-06    10.858918    16.288394    21.717858    3841.3317 
      26            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 7.2527668e-06 2.4088627e-05 4.9650751e-06    10.858918    16.288394    21.717858    3841.3317 
      27            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -2.9647159e-06 -9.8795515e-06 -2.0806905e-06    10.858918    16.288394    21.717858    3841.3317 
      28            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 1.9971638e-06 6.7040666e-06 1.4782462e-06    10.858918    16.288394    21.717858    3841.3317 
      29            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -7.7589976e-07 -2.6377216e-06 -6.2693923e-07    10.858918    16.288394    21.717858    3841.3317 
      30            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 4.0451314e-07 1.4072931e-06 3.7778496e-07    10.858918    16.288394    21.717858    3841.3317 
      31            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -2.3464875e-07 -8.4330636e-07 -2.6200562e-07    10.858918    16.288394    21.717858    3841.3317 
      32            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 1.4693395e-07 5.5084978e-07 2.0025993e-07    10.858918    16.288394    21.717858    3841.3317 
      33            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -8.8621929e-08 -3.4574275e-07 -1.4217726e-07    10.858918    16.288394    21.717858    3841.3317 
      34            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 6.5508084e-08 2.675391e-07 1.240902e-07    10.858918    16.288394    21.717858    3841.3317 
      35            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -7.9258824e-08 -3.3049139e-07 -1.6058483e-07    10.858918    16.288394    21.717858    3841.3317 
      36            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 7.2144284e-08 3.0362241e-07  1.50511e-07    10.858918    16.288394    21.717858    3841.3317 
      37            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -9.0101233e-08 -3.8048845e-07 -1.9021377e-07    10.858918    16.288394    21.717858    3841.3317 
      38            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 1.4834622e-07 6.2666715e-07 3.1377795e-07    10.858918    16.288394    21.717858    3841.3317 
      39            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -1.1364977e-07 -4.8016577e-07 -2.4057978e-07    10.858918    16.288394    21.717858    3841.3317 
      40            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 8.766944e-08 3.7096644e-07 1.8593886e-07    10.858918    16.288394    21.717858    3841.3317 
      41            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -1.5085871e-07 -6.385313e-07 -3.2012209e-07    10.858918    16.288394    21.717858    3841.3317 
      42            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 1.1268311e-07 4.7700759e-07 2.3908972e-07    10.858918    16.288394    21.717858    3841.3317 
      43            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -1.3122495e-07 -5.5583842e-07 -2.7854539e-07    10.858918    16.288394    21.717858    3841.3317 
      44            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 1.6909406e-07 7.1690524e-07 3.5923088e-07    10.858918    16.288394    21.717858    3841.3317 
      45            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -1.9230151e-07 -8.1672798e-07 -4.0937181e-07    10.858918    16.288394    21.717858    3841.3317 
      46            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 1.4722669e-07 6.2588745e-07 3.1371017e-07    10.858918    16.288394    21.717858    3841.3317 
      47            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -1.8534697e-07 -7.8831767e-07 -3.9510882e-07    10.858918    16.288394    21.717858    3841.3317 
      48            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 1.1614196e-07 4.9385357e-07 2.473856e-07    10.858918    16.288394    21.717858    3841.3317 
      49            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -3.8740176e-08 -1.643858e-07 -8.2210318e-08    10.858918    16.288394    21.717858    3841.3317 
      50            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 2.2620492e-08 9.550899e-08 4.7590463e-08    10.858918    16.288394    21.717858    3841.3317 
      51            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 -1.0055449e-08 -4.1871422e-08 -2.0704007e-08    10.858918    16.288394    21.717858    3841.3317 
      52            0    -832.4206     1.030041    1.4931999    0.7984616    0.7984616 3.386143e-09 1.3291399e-08 6.4693852e-09    10.858918    16.288394    21.717858    3841.3317 
Loop time of 1.93855 on 1 procs for 49 steps with 192 atoms

99.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602747     -832.420602747
  Force two-norm initial, final = 0.00295014 6.7352e-11
  Force max component initial, final = 0.000392239 1.06457e-11
  Final line search alpha, max atom move = 1 1.06457e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9349     | 1.9349     | 1.9349     |   0.0 | 99.81
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00066519 | 0.00066519 | 0.00066519 |   0.0 |  0.03
Output  | 0.0017524  | 0.0017524  | 0.0017524  |   0.0 |  0.09
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001181   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.49319990416243
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 0.798461596553029
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 0.798461596708584
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 3.38614303521823e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.3291399422849e-08
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 6.46938521509061e-09

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 149.319990414528
variable C2neg equal ${d2}
variable C2neg equal 79.8461596575135
variable C3neg equal ${d3}
variable C3neg equal 79.8461596623013
variable C4neg equal ${d4}
variable C4neg equal 6.10826902544278e-07
variable C5neg equal ${d5}
variable C5neg equal 1.31297984605359e-06
variable C6neg equal ${d6}
variable C6neg equal 3.86751270173447e-07

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*10.8589290353888
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 1.08589290353888e-05 xy delta ${deltaxy} xz delta ${deltaxz} remap units box
change_box all x delta 0 1.08589290353888e-05 xy delta 0 xz delta ${deltaxz} remap units box
change_box all x delta 0 1.08589290353888e-05 xy delta 0 xz delta 0 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206   -1.0299509   -1.4931064   -0.7983695  -0.79837687 -0.087536402  -0.28941816 -0.058018112     10.85894    16.288394    21.717858    3841.3393 
       4            0    -832.4206   -1.0300293   -1.4931871  -0.79845014  -0.79845062  0.022472728  0.074312085  0.014895254     10.85894    16.288394    21.717858    3841.3393 
       5            0    -832.4206   -1.0300349   -1.4931931  -0.79845611  -0.79845559 -0.019359765 -0.064024736 -0.012831948     10.85894    16.288394    21.717858    3841.3393 
       6            0    -832.4206   -1.0300357   -1.4931939  -0.79845663  -0.79845665  0.019698603   0.06514747  0.013057266     10.85894    16.288394    21.717858    3841.3393 
       7            0    -832.4206   -1.0300359   -1.4931942  -0.79845675  -0.79845674 -0.014517879 -0.048014572 -0.0096231692     10.85894    16.288394    21.717858    3841.3393 
       8            0    -832.4206    -1.030036   -1.4931943  -0.79845686  -0.79845684  0.011915149  0.039407084 0.0078980134     10.85894    16.288394    21.717858    3841.3393 
       9            0    -832.4206    -1.030036   -1.4931944  -0.79845689  -0.79845687 -0.0095940767 -0.031730705 -0.0063594343     10.85894    16.288394    21.717858    3841.3393 
      10            0    -832.4206   -1.0300361   -1.4931944  -0.79845689  -0.79845687 0.0082990564  0.027447763 0.0055010032     10.85894    16.288394    21.717858    3841.3393 
      11            0    -832.4206   -1.0300361   -1.4931944   -0.7984569  -0.79845688 -0.0073190927 -0.024206723 -0.0048513841     10.85894    16.288394    21.717858    3841.3393 
      12            0    -832.4206   -1.0300361   -1.4931944  -0.79845689  -0.79845688  0.005936868  0.019635266 0.0039351727     10.85894    16.288394    21.717858    3841.3393 
      13            0    -832.4206   -1.0300361   -1.4931944  -0.79845689  -0.79845688 -0.0049414733 -0.016343147 -0.0032753516     10.85894    16.288394    21.717858    3841.3393 
      14            0    -832.4206   -1.0300361   -1.4931944  -0.79845689  -0.79845688 0.0033763612  0.011166807 0.0022379284     10.85894    16.288394    21.717858    3841.3393 
      15            0    -832.4206   -1.0300361   -1.4931944  -0.79845689  -0.79845688 -0.0022176902 -0.0073346806 -0.0014698977     10.85894    16.288394    21.717858    3841.3393 
      16            0    -832.4206   -1.0300361   -1.4931944  -0.79845689  -0.79845688 0.0015231293 0.0050375405 0.0010095083     10.85894    16.288394    21.717858    3841.3393 
      17            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -0.00095843873 -0.0031699161 -0.00063519908     10.85894    16.288394    21.717858    3841.3393 
      18            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 0.00062199926 0.0020572028 0.00041218959     10.85894    16.288394    21.717858    3841.3393 
      19            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -0.00029667817 -0.0009812486 -0.00019656849     10.85894    16.288394    21.717858    3841.3393 
      20            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 0.00016436504 0.00054365029 0.00010885759     10.85894    16.288394    21.717858    3841.3393 
      21            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -8.5745017e-05 -0.00028362513 -5.6748887e-05     10.85894    16.288394    21.717858    3841.3393 
      22            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 4.4487028e-05 0.00014717477 2.9394567e-05     10.85894    16.288394    21.717858    3841.3393 
      23            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -3.5686401e-05 -0.00011809821 -2.3492954e-05     10.85894    16.288394    21.717858    3841.3393 
      24            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 1.5704712e-05 5.2001235e-05 1.0273168e-05     10.85894    16.288394    21.717858    3841.3393 
      25            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -1.3185371e-05 -4.3716402e-05 -8.4963326e-06     10.85894    16.288394    21.717858    3841.3393 
      26            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 7.2710208e-06 2.4162593e-05 4.5607087e-06     10.85894    16.288394    21.717858    3841.3393 
      27            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -2.9781727e-06 -9.9343629e-06  -1.7844e-06     10.85894    16.288394    21.717858    3841.3393 
      28            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 2.015077e-06 6.7780914e-06 1.081955e-06     10.85894    16.288394    21.717858    3841.3393 
      29            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -7.8890326e-07 -2.6919455e-06 -3.3773964e-07     10.85894    16.288394    21.717858    3841.3393 
      30            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 4.1713416e-07 1.4601532e-06 9.6157544e-08     10.85894    16.288394    21.717858    3841.3393 
      31            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -2.4687544e-07 -8.9456158e-07 1.1623481e-08     10.85894    16.288394    21.717858    3841.3393 
      32            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 1.587341e-07 6.004446e-07 -6.41644e-08     10.85894    16.288394    21.717858    3841.3393 
      33            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -9.8208048e-08 -3.8595308e-07 7.2302394e-08     10.85894    16.288394    21.717858    3841.3393 
      34            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 7.4797389e-08 3.0663601e-07 -8.3417074e-08     10.85894    16.288394    21.717858    3841.3393 
      35            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -9.1681415e-08 -3.829626e-07 1.1721158e-07     10.85894    16.288394    21.717858    3841.3393 
      36            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 8.3965199e-08 3.5344797e-07 -1.1334604e-07     10.85894    16.288394    21.717858    3841.3393 
      37            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -1.0505247e-07 -4.4389763e-07 1.4489342e-07     10.85894    16.288394    21.717858    3841.3393 
      38            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 1.7292842e-07 7.3132219e-07 -2.39665e-07     10.85894    16.288394    21.717858    3841.3393 
      39            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -1.3250345e-07 -5.6044406e-07 1.8388301e-07     10.85894    16.288394    21.717858    3841.3393 
      40            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 1.0218342e-07 4.3269917e-07 -1.4217697e-07     10.85894    16.288394    21.717858    3841.3393 
      41            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -1.7568854e-07 -7.4406427e-07 2.444433e-07     10.85894    16.288394    21.717858    3841.3393 
      42            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 1.3100344e-07 5.5480446e-07 -1.8225606e-07     10.85894    16.288394    21.717858    3841.3393 
      43            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -1.5228025e-07 -6.4470155e-07 2.1188604e-07     10.85894    16.288394    21.717858    3841.3393 
      44            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 1.9509961e-07 8.2576172e-07 -2.7128798e-07     10.85894    16.288394    21.717858    3841.3393 
      45            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -2.1997657e-07 -9.3090005e-07 3.0576612e-07     10.85894    16.288394    21.717858    3841.3393 
      46            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 1.6388109e-07 6.9356451e-07 -2.2772704e-07     10.85894    16.288394    21.717858    3841.3393 
      47            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -1.9791367e-07 -8.3650502e-07 2.7466599e-07     10.85894    16.288394    21.717858    3841.3393 
      48            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 1.1869128e-07 5.0086659e-07 -1.6447909e-07     10.85894    16.288394    21.717858    3841.3393 
      49            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -3.86289e-08 -1.621864e-07 5.3180544e-08     10.85894    16.288394    21.717858    3841.3393 
      50            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 2.235447e-08 9.3157693e-08 -3.0556443e-08     10.85894    16.288394    21.717858    3841.3393 
      51            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 -9.8386093e-09 -4.0595176e-08 1.3333994e-08     10.85894    16.288394    21.717858    3841.3393 
      52            0    -832.4206   -1.0300361   -1.4931945  -0.79845688  -0.79845688 3.1967665e-09 1.3034926e-08 -4.3871839e-09     10.85894    16.288394    21.717858    3841.3393 
Loop time of 1.90959 on 1 procs for 49 steps with 192 atoms

100.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602747     -832.420602747
  Force two-norm initial, final = 0.00295014 6.73313e-11
  Force max component initial, final = 0.000392238 1.06246e-11
  Final line search alpha, max atom move = 1 1.06246e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9059     | 1.9059     | 1.9059     |   0.0 | 99.80
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.0006299  | 0.0006299  | 0.0006299  |   0.0 |  0.03
Output  | 0.0018871  | 0.0018871  | 0.0018871  |   0.0 |  0.10
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001215   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.420602746934
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.03003607233242
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -1.4931944519497
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -0.798456882609049
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -0.798456882438521
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 3.19676647005332e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.30349263728851e-08
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -4.38718392166442e-09

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 149.319445196685
variable C2pos equal ${d2}
variable C2pos equal 79.8456882586943
variable C3pos equal ${d3}
variable C3pos equal 79.8456882524091
variable C4pos equal ${d4}
variable C4pos equal 4.74830011131225e-07
variable C5pos equal ${d5}
variable C5pos equal -1.2873325410572e-06
variable C6pos equal ${d6}
variable C6pos equal -3.67813613656956e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(${C1neg}+${C1pos})
variable C11 equal 0.5*(149.319990414528+${C1pos})
variable C11 equal 0.5*(149.319990414528+149.319445196685)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(${C2neg}+${C2pos})
variable C21 equal 0.5*(79.8461596575135+${C2pos})
variable C21 equal 0.5*(79.8461596575135+79.8456882586943)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(${C3neg}+${C3pos})
variable C31 equal 0.5*(79.8461596623013+${C3pos})
variable C31 equal 0.5*(79.8461596623013+79.8456882524091)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(${C4neg}+${C4pos})
variable C41 equal 0.5*(6.10826902544278e-07+${C4pos})
variable C41 equal 0.5*(6.10826902544278e-07+4.74830011131225e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(${C5neg}+${C5pos})
variable C51 equal 0.5*(1.31297984605359e-06+${C5pos})
variable C51 equal 0.5*(1.31297984605359e-06+-1.2873325410572e-06)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(${C6neg}+${C6pos})
variable C61 equal 0.5*(3.86751270173447e-07+${C6pos})
variable C61 equal 0.5*(3.86751270173447e-07+-3.67813613656956e-07)

# Delete dir to make sure it is not reused

variable dir delete

# uyy Perturbation

variable dir equal 2
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 16.2883935530833
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*16.2883935530833
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 -1.62883935530833e-05 yz delta ${deltayz} remap units box
change_box all y delta 0 -1.62883935530833e-05 yz delta -0 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206    1.0301262   0.79854964    1.4932873   0.79854161 -0.087536874  -0.28941957 -0.058018394    10.858929    16.288377    21.717858    3841.3317 
       4            0    -832.4206    1.0300478   0.79846894    1.4932066   0.79846786  0.022472804  0.074312469  0.014895331    10.858929    16.288377    21.717858    3841.3317 
       5            0    -832.4206    1.0300422   0.79846296    1.4932007   0.79846289 -0.019359791 -0.064025076 -0.012832016    10.858929    16.288377    21.717858    3841.3317 
       6            0    -832.4206    1.0300414   0.79846218    1.4932002   0.79846183  0.019698613  0.065147886   0.01305735    10.858929    16.288377    21.717858    3841.3317 
       7            0    -832.4206    1.0300412   0.79846185       1.4932   0.79846174 -0.014517888 -0.048015019 -0.0096232595    10.858929    16.288377    21.717858    3841.3317 
       8            0    -832.4206    1.0300411   0.79846171    1.4931999   0.79846163  0.011915124  0.039407491 0.0078980955    10.858929    16.288377    21.717858    3841.3317 
       9            0    -832.4206    1.0300411   0.79846166    1.4931999   0.79846161 -0.0095940334  -0.03173107 -0.006359508    10.858929    16.288377    21.717858    3841.3317 
      10            0    -832.4206     1.030041   0.79846163    1.4931999    0.7984616 0.0082989852  0.027448097 0.0055010704    10.858929    16.288377    21.717858    3841.3317 
      11            0    -832.4206     1.030041   0.79846162    1.4931999    0.7984616 -0.0073189846 -0.024206978 -0.0048514356    10.858929    16.288377    21.717858    3841.3317 
      12            0    -832.4206     1.030041   0.79846161    1.4931999    0.7984616 0.0059367442  0.019635441  0.003935208    10.858929    16.288377    21.717858    3841.3317 
      13            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -0.0049413303  -0.01634326 -0.0032753743    10.858929    16.288377    21.717858    3841.3317 
      14            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 0.0033762331   0.01116688 0.0022379429    10.858929    16.288377    21.717858    3841.3317 
      15            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -0.0022175681 -0.0073347353 -0.0014699084    10.858929    16.288377    21.717858    3841.3317 
      16            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616  0.001523019 0.0050376145 0.0010095228    10.858929    16.288377    21.717858    3841.3317 
      17            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -0.00095832566 -0.0031699754 -0.00063521052    10.858929    16.288377    21.717858    3841.3317 
      18            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 0.00062188657 0.0020572583 0.00041220035    10.858929    16.288377    21.717858    3841.3317 
      19            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -0.00029658588 -0.00098128919 -0.00019657647    10.858929    16.288377    21.717858    3841.3317 
      20            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 0.0001642626 0.00054368421 0.00010886411    10.858929    16.288377    21.717858    3841.3317 
      21            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -8.5647795e-05 -0.0002836554 -5.6754764e-05    10.858929    16.288377    21.717858    3841.3317 
      22            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 4.4382194e-05 0.00014720559 2.940066e-05    10.858929    16.288377    21.717858    3841.3317 
      23            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -3.5505336e-05 -0.00011814987 -2.3503234e-05    10.858929    16.288377    21.717858    3841.3317 
      24            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 1.5551619e-05 5.2045038e-05 1.0281811e-05    10.858929    16.288377    21.717858    3841.3317 
      25            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -1.2912698e-05 -4.3793904e-05 -8.511748e-06    10.858929    16.288377    21.717858    3841.3317 
      26            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 6.9812817e-06 2.4244634e-05 4.5768781e-06    10.858929    16.288377    21.717858    3841.3317 
      27            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -2.7658331e-06 -9.9944839e-06 -1.7960947e-06    10.858929    16.288377    21.717858    3841.3317 
      28            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 1.7307419e-06 6.858435e-06 1.0974493e-06    10.858929    16.288377    21.717858    3841.3317 
      29            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -5.8108286e-07 -2.7505845e-06 -3.4892819e-07    10.858929    16.288377    21.717858    3841.3317 
      30            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 2.1456318e-07 1.5173662e-06 1.0708608e-07    10.858929    16.288377    21.717858    3841.3317 
      31            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -4.9858808e-08 -9.5018355e-07 1.1724713e-09    10.858929    16.288377    21.717858    3841.3317 
      32            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -3.1779178e-08 6.5419044e-07 -5.4029189e-08    10.858929    16.288377    21.717858    3841.3317 
      33            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 5.6518143e-08 -4.295162e-07 6.4183364e-08    10.858929    16.288377    21.717858    3841.3317 
      34            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616  -7.5014e-08 3.4876656e-07 -7.5403951e-08    10.858929    16.288377    21.717858    3841.3317 
      35            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 1.0880881e-07 -4.3910711e-07 1.0655587e-07    10.858929    16.288377    21.717858    3841.3317 
      36            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -1.0640919e-07 4.0682013e-07 -1.0308755e-07    10.858929    16.288377    21.717858    3841.3317 
      37            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 1.3663491e-07 -5.1155639e-07 1.319519e-07    10.858929    16.288377    21.717858    3841.3317 
      38            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -2.2615674e-07 8.430027e-07 -2.1820075e-07    10.858929    16.288377    21.717858    3841.3317 
      39            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616   1.7364e-07 -6.4609298e-07 1.6745887e-07    10.858929    16.288377    21.717858    3841.3317 
      40            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -1.3426141e-07 4.9888521e-07 -1.2942615e-07    10.858929    16.288377    21.717858    3841.3317 
      41            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 2.3066432e-07 -8.568977e-07 2.2244202e-07    10.858929    16.288377    21.717858    3841.3317 
      42            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -1.7171896e-07 6.3765777e-07 -1.6551918e-07    10.858929    16.288377    21.717858    3841.3317 
      43            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 1.9877823e-07 -7.3794663e-07 1.9159641e-07    10.858929    16.288377    21.717858    3841.3317 
      44            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -2.516913e-07 9.3420619e-07 -2.4245211e-07    10.858929    16.288377    21.717858    3841.3317 
      45            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 2.7880935e-07 -1.0351789e-06 2.6850393e-07    10.858929    16.288377    21.717858    3841.3317 
      46            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -1.9865628e-07 7.3739829e-07 -1.9120989e-07    10.858929    16.288377    21.717858    3841.3317 
      47            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 2.2472484e-07 -8.3433302e-07 2.1634099e-07    10.858929    16.288377    21.717858    3841.3317 
      48            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -1.2660034e-07 4.7029285e-07 -1.2198802e-07    10.858929    16.288377    21.717858    3841.3317 
      49            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 3.9544175e-08 -1.4699861e-07 3.8081991e-08    10.858929    16.288377    21.717858    3841.3317 
      50            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -2.2242276e-08 8.3225913e-08 -2.1414131e-08    10.858929    16.288377    21.717858    3841.3317 
      51            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 9.5629457e-09 -3.5827116e-08 9.2345759e-09    10.858929    16.288377    21.717858    3841.3317 
      52            0    -832.4206     1.030041    0.7984616    1.4931999    0.7984616 -3.0149732e-09 1.1362908e-08 -2.762355e-09    10.858929    16.288377    21.717858    3841.3317 
Loop time of 1.9583 on 1 procs for 49 steps with 192 atoms

99.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602747     -832.420602747
  Force two-norm initial, final = 0.00295014 6.7358e-11
  Force max component initial, final = 0.000392239 1.06027e-11
  Final line search alpha, max atom move = 1 1.06027e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9544     | 1.9544     | 1.9544     |   0.0 | 99.80
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00066233 | 0.00066233 | 0.00066233 |   0.0 |  0.03
Output  | 0.0020385  | 0.0020385  | 0.0020385  |   0.0 |  0.10
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.00122    |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 0.798461596520452
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.49319990409279
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 0.798461596655799
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.01497320461271e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.13629081818885e-08
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -2.76235496565756e-09

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 79.8461596503301
variable C2neg equal ${d2}
variable C2neg equal 149.31999041149
variable C3neg equal ${d3}
variable C3neg equal 79.8461596570228
variable C4neg equal ${d4}
variable C4neg equal -3.12347115530539e-07
variable C5neg equal ${d5}
variable C5neg equal 1.12013072195754e-06
variable C6neg equal ${d6}
variable C6neg equal -2.53360353809647e-07

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*16.2883935530833
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box
change_box all y delta 0 1.62883935530833e-05 yz delta ${deltayz} remap units box
change_box all y delta 0 1.62883935530833e-05 yz delta 0 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206   -1.0299509  -0.79836884   -1.4931071  -0.79837687 -0.087536402  -0.28941831 -0.058018081    10.858929     16.28841    21.717858    3841.3393 
       4            0    -832.4206   -1.0300293  -0.79844954   -1.4931877  -0.79845062  0.022472728   0.07431195  0.014895281    10.858929     16.28841    21.717858    3841.3393 
       5            0    -832.4206   -1.0300349  -0.79845552   -1.4931937  -0.79845559 -0.019359763 -0.064024474 -0.012831998    10.858929     16.28841    21.717858    3841.3393 
       6            0    -832.4206   -1.0300357   -0.7984563   -1.4931942  -0.79845665    0.0196986  0.065147076  0.013057341    10.858929     16.28841    21.717858    3841.3393 
       7            0    -832.4206   -1.0300359  -0.79845663   -1.4931943  -0.79845674 -0.014517875 -0.048014142 -0.0096232506    10.858929     16.28841    21.717858    3841.3393 
       8            0    -832.4206    -1.030036  -0.79845676   -1.4931944  -0.79845684  0.011915147  0.039406585   0.00789811    10.858929     16.28841    21.717858    3841.3393 
       9            0    -832.4206    -1.030036  -0.79845682   -1.4931945  -0.79845687 -0.0095940888 -0.031730237 -0.006359544    10.858929     16.28841    21.717858    3841.3393 
      10            0    -832.4206   -1.0300361  -0.79845685   -1.4931945  -0.79845687 0.0082990808  0.027447276 0.0055011332    10.858929     16.28841    21.717858    3841.3393 
      11            0    -832.4206   -1.0300361  -0.79845686   -1.4931945  -0.79845688 -0.0073191373 -0.024206258 -0.0048515363    10.858929     16.28841    21.717858    3841.3393 
      12            0    -832.4206   -1.0300361  -0.79845687   -1.4931945  -0.79845688 0.0059369632  0.019634997 0.0039353528    10.858929     16.28841    21.717858    3841.3393 
      13            0    -832.4206   -1.0300361  -0.79845687   -1.4931945  -0.79845688 -0.0049416101 -0.016343017 -0.0032755591    10.858929     16.28841    21.717858    3841.3393 
      14            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 0.0033765139   0.01116682 0.0022381283    10.858929     16.28841    21.717858    3841.3393 
      15            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -0.0022178436 -0.0073347353 -0.0014700905    10.858929     16.28841    21.717858    3841.3393 
      16            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 0.0015232782 0.0050375998 0.0010096941    10.858929     16.28841    21.717858    3841.3393 
      17            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -0.00095857931 -0.0031699535 -0.00063537822    10.858929     16.28841    21.717858    3841.3393 
      18            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 0.00062212978 0.0020572102 0.00041236125    10.858929     16.28841    21.717858    3841.3393 
      19            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -0.00029677841 -0.00098123563 -0.00019670393    10.858929     16.28841    21.717858    3841.3393 
      20            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 0.00016446792 0.00054361756 0.00010900037    10.858929     16.28841    21.717858    3841.3393 
      21            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -8.583909e-05 -0.00028358418 -5.6881959e-05    10.858929     16.28841    21.717858    3841.3393 
      22            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 4.4586154e-05 0.00014712461 2.9536555e-05    10.858929     16.28841    21.717858    3841.3393 
      23            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -3.5855437e-05 -0.00011800465 -2.3736737e-05    10.858929     16.28841    21.717858    3841.3393 
      24            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 1.5846893e-05 5.1919453e-05 1.0478823e-05    10.858929     16.28841    21.717858    3841.3393 
      25            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -1.3438016e-05 -4.356806e-05 -8.8623845e-06    10.858929     16.28841    21.717858    3841.3393 
      26            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 7.5392757e-06 2.4003484e-05 4.9495862e-06    10.858929     16.28841    21.717858    3841.3393 
      27            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -3.1748384e-06 -9.8171235e-06 -2.0694823e-06    10.858929     16.28841    21.717858    3841.3393 
      28            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 2.2783708e-06 6.6205695e-06 1.4632644e-06    10.858929     16.28841    21.717858    3841.3393 
      29            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -9.81232e-07 -2.5767667e-06 -6.1599078e-07    10.858929     16.28841    21.717858    3841.3393 
      30            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 6.0454162e-07 1.3480573e-06 3.6714754e-07    10.858929     16.28841    21.717858    3841.3393 
      31            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -4.2907569e-07 -7.8577218e-07 -2.5172609e-07    10.858929     16.28841    21.717858    3841.3393 
      32            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 3.3499612e-07 4.9519904e-07 1.9036755e-07    10.858929     16.28841    21.717858    3841.3393 
      33            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -2.4122577e-07 -3.0040806e-07 -1.342485e-07    10.858929     16.28841    21.717858    3841.3393 
      34            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 2.1331155e-07 2.2365026e-07 1.1660345e-07    10.858929     16.28841    21.717858    3841.3393 
      35            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -2.771872e-07 -2.7170851e-07 -1.5058296e-07    10.858929     16.28841    21.717858    3841.3393 
      36            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 2.6004235e-07 2.4762712e-07 1.4096557e-07    10.858929     16.28841    21.717858    3841.3393 
      37            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -3.2865654e-07 -3.0938622e-07 -1.7805553e-07    10.858929     16.28841    21.717858    3841.3393 
      38            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 5.4222432e-07 5.0906188e-07 2.9354383e-07    10.858929     16.28841    21.717858    3841.3393 
      39            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -4.1572951e-07 -3.8987628e-07 -2.2504436e-07    10.858929     16.28841    21.717858    3841.3393 
      40            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 3.211493e-07 3.0094627e-07 1.7383407e-07    10.858929     16.28841    21.717858    3841.3393 
      41            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -5.5240095e-07 -5.1740344e-07 -2.9891703e-07    10.858929     16.28841    21.717858    3841.3393 
      42            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 4.1204522e-07 3.8572474e-07 2.2290856e-07    10.858929     16.28841    21.717858    3841.3393 
      43            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -4.789208e-07 -4.4806213e-07 -2.5897113e-07    10.858929     16.28841    21.717858    3841.3393 
      44            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 6.1295267e-07 5.7329254e-07 3.3147674e-07    10.858929     16.28841    21.717858    3841.3393 
      45            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -6.9013075e-07 -6.4531768e-07 -3.7321095e-07    10.858929     16.28841    21.717858    3841.3393 
      46            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 5.1189163e-07 4.7852285e-07 2.7682479e-07    10.858929     16.28841    21.717858    3841.3393 
      47            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -6.1290586e-07 -5.7283481e-07 -3.3143877e-07    10.858929     16.28841    21.717858    3841.3393 
      48            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 3.6437418e-07 3.4043069e-07 1.9695379e-07    10.858929     16.28841    21.717858    3841.3393 
      49            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -1.1747068e-07 -1.0971272e-07 -6.3350406e-08    10.858929     16.28841    21.717858    3841.3393 
      50            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 6.7263843e-08 6.278696e-08 3.6219289e-08    10.858929     16.28841    21.717858    3841.3393 
      51            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 -2.9141778e-08 -2.723018e-08 -1.5628991e-08    10.858929     16.28841    21.717858    3841.3393 
      52            0    -832.4206   -1.0300361  -0.79845688   -1.4931945  -0.79845688 9.2240426e-09 8.5673236e-09 4.8588336e-09    10.858929     16.28841    21.717858    3841.3393 
Loop time of 1.90011 on 1 procs for 49 steps with 192 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602747     -832.420602747
  Force two-norm initial, final = 0.00295014 6.73446e-11
  Force max component initial, final = 0.000392238 1.05343e-11
  Final line search alpha, max atom move = 1 1.05343e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.8965     | 1.8965     | 1.8965     |   0.0 | 99.81
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00070357 | 0.00070357 | 0.00070357 |   0.0 |  0.04
Output  | 0.0017495  | 0.0017495  | 0.0017495  |   0.0 |  0.09
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001176   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.420602746934
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.03003607224677
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -0.798456882495588
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -1.49319445194187
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -0.798456882302859
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 9.22404261796184e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 8.56732363121701e-09
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 4.8588336346594e-09

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 79.8456882512739
variable C2pos equal ${d2}
variable C2pos equal 149.319445191976
variable C3pos equal ${d3}
variable C3pos equal 79.845688238843
variable C4pos equal ${d4}
variable C4pos equal -4.49771744501157e-07
variable C5pos equal ${d5}
variable C5pos equal -8.40572266890391e-07
variable C6pos equal ${d6}
variable C6pos equal -9.70541228447808e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(${C1neg}+${C1pos})
variable C12 equal 0.5*(79.8461596503301+${C1pos})
variable C12 equal 0.5*(79.8461596503301+79.8456882512739)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(${C2neg}+${C2pos})
variable C22 equal 0.5*(149.31999041149+${C2pos})
variable C22 equal 0.5*(149.31999041149+149.319445191976)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(${C3neg}+${C3pos})
variable C32 equal 0.5*(79.8461596570228+${C3pos})
variable C32 equal 0.5*(79.8461596570228+79.845688238843)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(${C4neg}+${C4pos})
variable C42 equal 0.5*(-3.12347115530539e-07+${C4pos})
variable C42 equal 0.5*(-3.12347115530539e-07+-4.49771744501157e-07)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(${C5neg}+${C5pos})
variable C52 equal 0.5*(1.12013072195754e-06+${C5pos})
variable C52 equal 0.5*(1.12013072195754e-06+-8.40572266890391e-07)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(${C6neg}+${C6pos})
variable C62 equal 0.5*(-2.53360353809647e-07+${C6pos})
variable C62 equal 0.5*(-2.53360353809647e-07+-9.70541228447808e-07)

# Delete dir to make sure it is not reused

variable dir delete

# uzz Perturbation

variable dir equal 3
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 21.7178580707777
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*21.7178580707777
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 -2.17178580707777e-05 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206    1.0301262   0.79854964   0.79854898    1.4932799 -0.087536828  -0.28941972 -0.058018394    10.858929    16.288394    21.717836    3841.3317 
       4            0    -832.4206    1.0300478   0.79846894   0.79846834    1.4932062  0.022472844  0.074312333  0.014895331    10.858929    16.288394    21.717836    3841.3317 
       5            0    -832.4206    1.0300422   0.79846296   0.79846237    1.4932012 -0.019359865 -0.064024808 -0.012832014    10.858929    16.288394    21.717836    3841.3317 
       6            0    -832.4206    1.0300414   0.79846218   0.79846185    1.4932001  0.019698721  0.065147476  0.013057344    10.858929    16.288394    21.717836    3841.3317 
       7            0    -832.4206    1.0300412   0.79846185   0.79846173    1.4932001 -0.014517996 -0.048014541 -0.0096232469    10.858929    16.288394    21.717836    3841.3317 
       8            0    -832.4206    1.0300411   0.79846171   0.79846162    1.4931999  0.011915251  0.039406928 0.0078980807    10.858929    16.288394    21.717836    3841.3317 
       9            0    -832.4206    1.0300411   0.79846166   0.79846159    1.4931999 -0.0095941907 -0.031730574 -0.0063595102    10.858929    16.288394    21.717836    3841.3317 
      10            0    -832.4206     1.030041   0.79846163   0.79846159    1.4931999 0.0082991798  0.027447603 0.0055010853    10.858929    16.288394    21.717836    3841.3317 
      11            0    -832.4206     1.030041   0.79846162   0.79846158    1.4931999 -0.007319233 -0.024206575 -0.0048514774    10.858929    16.288394    21.717836    3841.3317 
      12            0    -832.4206     1.030041   0.79846161   0.79846159    1.4931999 0.0059370406  0.019635254 0.0039352874    10.858929    16.288394    21.717836    3841.3317 
      13            0    -832.4206     1.030041    0.7984616   0.79846159    1.4931999 -0.0049416548 -0.016343166 -0.0032754724    10.858929    16.288394    21.717836    3841.3317 
      14            0    -832.4206     1.030041    0.7984616   0.79846159    1.4931999 0.0033765403  0.011166909 0.0022380478    10.858929    16.288394    21.717836    3841.3317 
      15            0    -832.4206     1.030041    0.7984616   0.79846159    1.4931999 -0.0022178432 -0.0073347358     -0.00147    10.858929    16.288394    21.717836    3841.3317 
      16            0    -832.4206     1.030041    0.7984616   0.79846159    1.4931999 0.0015232756 0.0050375934 0.0010096062    10.858929    16.288394    21.717836    3841.3317 
      17            0    -832.4206     1.030041    0.7984616   0.79846159    1.4931999 -0.00095857363 -0.0031699375 -0.00063528963    10.858929    16.288394    21.717836    3841.3317 
      18            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 0.00062212674 0.0020572035 0.00041227526    10.858929    16.288394    21.717836    3841.3317 
      19            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -0.00029677848 -0.00098123906 -0.00019663609    10.858929    16.288394    21.717836    3841.3317 
      20            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 0.00016446818 0.00054362264 0.0001089271    10.858929    16.288394    21.717836    3841.3317 
      21            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -8.5840597e-05 -0.00028359267 -5.6813468e-05    10.858929    16.288394    21.717836    3841.3317 
      22            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 4.458811e-05 0.00014713444 2.9462759e-05    10.858929    16.288394    21.717836    3841.3317 
      23            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -3.5859579e-05 -0.00011802374 -2.3609563e-05    10.858929    16.288394    21.717836    3841.3317 
      24            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 1.5851008e-05 5.193767e-05 1.0371508e-05    10.858929    16.288394    21.717836    3841.3317 
      25            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -1.344541e-05 -4.3601451e-05 -8.6712113e-06    10.858929    16.288394    21.717836    3841.3317 
      26            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 7.5473346e-06 2.4039589e-05 4.746422e-06    10.858929    16.288394    21.717836    3841.3317 
      27            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -3.1808536e-06 -9.8438263e-06 -1.9204272e-06    10.858929    16.288394    21.717836    3841.3317 
      28            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 2.2864134e-06 6.6563376e-06 1.2639106e-06    10.858929    16.288394    21.717836    3841.3317 
      29            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -9.8700286e-07 -2.60279e-06 -4.7051555e-07    10.858929    16.288394    21.717836    3841.3317 
      30            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 6.1011531e-07 1.3731518e-06 2.2544258e-07    10.858929    16.288394    21.717836    3841.3317 
      31            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999  -4.3435e-07 -8.1010453e-07 -1.1389434e-07    10.858929    16.288394    21.717836    3841.3317 
      32            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 3.3997731e-07 5.1879834e-07 5.6985921e-08    10.858929    16.288394    21.717836    3841.3317 
      33            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -2.4524651e-07 -3.1975963e-07 -2.5847634e-08    10.858929    16.288394    21.717836    3841.3317 
      34            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 2.1709293e-07 2.4246534e-07 1.1439911e-08    10.858929    16.288394    21.717836    3841.3317 
      35            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -2.8232384e-07 -2.9694876e-07 -9.7642836e-09    10.858929    16.288394    21.717836    3841.3317 
      36            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 2.6491232e-07 2.7168572e-07 7.1480638e-09    10.858929    16.288394    21.717836    3841.3317 
      37            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -3.3493991e-07 -3.3993595e-07 -8.0720523e-09    10.858929    16.288394    21.717836    3841.3317 
      38            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 5.5243698e-07 5.5967249e-07 1.3073605e-08    10.858929    16.288394    21.717836    3841.3317 
      39            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -4.2357762e-07 -4.2883375e-07 -9.9607691e-09    10.858929    16.288394    21.717836    3841.3317 
      40            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 3.2722943e-07 3.3119485e-07 7.8216533e-09    10.858929    16.288394    21.717836    3841.3317 
      41            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -5.6273942e-07 -5.6951444e-07 -1.3651417e-08    10.858929    16.288394    21.717836    3841.3317 
      42            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 4.1964906e-07 4.2477086e-07 1.0146263e-08    10.858929    16.288394    21.717836    3841.3317 
      43            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -4.8789964e-07 -4.9378636e-07 -1.185824e-08    10.858929    16.288394    21.717836    3841.3317 
      44            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 6.2532477e-07 6.325203e-07 1.529121e-08    10.858929    16.288394    21.717836    3841.3317 
      45            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -7.0543724e-07 -7.1343252e-07 -1.736654e-08    10.858929    16.288394    21.717836    3841.3317 
      46            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 5.2586071e-07 5.3169706e-07 1.2954409e-08    10.858929    16.288394    21.717836    3841.3317 
      47            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -6.3443386e-07 -6.4136359e-07 -1.5712389e-08    10.858929    16.288394    21.717836    3841.3317 
      48            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 3.8011605e-07 3.8425036e-07 9.4405707e-09    10.858929    16.288394    21.717836    3841.3317 
      49            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -1.2316649e-07 -1.2436456e-07 -3.1346508e-09    10.858929    16.288394    21.717836    3841.3317 
      50            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 7.0759461e-08 7.1244201e-08 1.8977271e-09    10.858929    16.288394    21.717836    3841.3317 
      51            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 -3.0882454e-08 -3.092808e-08 -8.8010485e-10    10.858929    16.288394    21.717836    3841.3317 
      52            0    -832.4206     1.030041    0.7984616    0.7984616    1.4931999 9.8002983e-09 9.7503923e-09 3.8878346e-10    10.858929    16.288394    21.717836    3841.3317 
Loop time of 2.02616 on 1 procs for 49 steps with 192 atoms

100.1% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602747     -832.420602747
  Force two-norm initial, final = 0.00295014 6.73271e-11
  Force max component initial, final = 0.000392239 1.05414e-11
  Final line search alpha, max atom move = 1 1.05414e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 2.0222     | 2.0222     | 2.0222     |   0.0 | 99.81
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00068498 | 0.00068498 | 0.00068498 |   0.0 |  0.03
Output  | 0.0019577  | 0.0019577  | 0.0019577  |   0.0 |  0.10
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001269   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 0.798461596587421
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 0.79846159660997
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.49319990430064
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 9.80029830532768e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 9.75039232109122e-09
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.88783463778494e-10

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 79.846159657027
variable C2neg equal ${d2}
variable C2neg equal 79.8461596632076
variable C3neg equal ${d3}
variable C3neg equal 149.319990421507
variable C4neg equal ${d4}
variable C4neg equal 2.7667274130664e-09
variable C5neg equal ${d5}
variable C5neg equal 9.58879135877812e-07
variable C6neg equal ${d6}
variable C6neg equal 1.02816679718439e-06

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*21.7178580707777
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
change_box all z delta 0 ${delta} remap units box
change_box all z delta 0 2.17178580707777e-05 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.719) with tilt (0 0 0)
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206   -1.0299509  -0.79836884   -0.7983695   -1.4931144 -0.087536448  -0.28941816 -0.058018081    10.858929    16.288394     21.71788    3841.3393 
       4            0    -832.4206   -1.0300293  -0.79844954  -0.79845014   -1.4931882  0.022472688  0.074312087  0.014895281    10.858929    16.288394     21.71788    3841.3393 
       5            0    -832.4206   -1.0300349  -0.79845552  -0.79845611   -1.4931932  -0.01935969 -0.064024742    -0.012832    10.858929    16.288394     21.71788    3841.3393 
       6            0    -832.4206   -1.0300357   -0.7984563  -0.79845663   -1.4931942  0.019698492  0.065147486  0.013057346    10.858929    16.288394     21.71788    3841.3393 
       7            0    -832.4206   -1.0300359  -0.79845663  -0.79845675   -1.4931943 -0.014517768 -0.048014621 -0.0096232627    10.858929    16.288394     21.71788    3841.3393 
       8            0    -832.4206    -1.030036  -0.79845676  -0.79845686   -1.4931944  0.011915021  0.039407149 0.0078981245    10.858929    16.288394     21.71788    3841.3393 
       9            0    -832.4206    -1.030036  -0.79845682  -0.79845689   -1.4931944 -0.0095939316 -0.031730733 -0.0063595417    10.858929    16.288394     21.71788    3841.3393 
      10            0    -832.4206   -1.0300361  -0.79845685  -0.79845689   -1.4931944 0.0082988864  0.027447769  0.005501118    10.858929    16.288394     21.71788    3841.3393 
      11            0    -832.4206   -1.0300361  -0.79845686   -0.7984569   -1.4931945 -0.0073188891 -0.024206661 -0.0048514941    10.858929    16.288394     21.71788    3841.3393 
      12            0    -832.4206   -1.0300361  -0.79845687  -0.79845689   -1.4931945 0.0059366671  0.019635185 0.0039352732    10.858929    16.288394     21.71788    3841.3393 
      13            0    -832.4206   -1.0300361  -0.79845687  -0.79845689   -1.4931945 -0.0049412857  -0.01634311 -0.0032754609    10.858929    16.288394     21.71788    3841.3393 
      14            0    -832.4206   -1.0300361  -0.79845688  -0.79845689   -1.4931945 0.0033762065  0.011166791 0.0022380238    10.858929    16.288394     21.71788    3841.3393 
      15            0    -832.4206   -1.0300361  -0.79845688  -0.79845689   -1.4931945 -0.002217568 -0.0073347346 -0.0014699993    10.858929    16.288394     21.71788    3841.3393 
      16            0    -832.4206   -1.0300361  -0.79845688  -0.79845689   -1.4931945 0.0015230208 0.0050376207 0.0010096113    10.858929    16.288394     21.71788    3841.3393 
      17            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -0.00095833058 -0.0031699914 -0.00063529995    10.858929    16.288394     21.71788    3841.3393 
      18            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 0.00062188887 0.0020572652 0.00041228702    10.858929    16.288394     21.71788    3841.3393 
      19            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -0.00029658522 -0.00098128607 -0.00019664486    10.858929    16.288394     21.71788    3841.3393 
      20            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 0.00016426163 0.00054367957 0.00010893772    10.858929    16.288394     21.71788    3841.3393 
      21            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -8.5645604e-05 -0.00028364743 -5.6823593e-05    10.858929    16.288394     21.71788    3841.3393 
      22            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 4.4379331e-05 0.00014719646 2.9474308e-05    10.858929    16.288394     21.71788    3841.3393 
      23            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -3.5499614e-05 -0.00011813227 -2.3629773e-05    10.858929    16.288394     21.71788    3841.3393 
      24            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 1.5546125e-05 5.2028331e-05 1.0388441e-05    10.858929    16.288394     21.71788    3841.3393 
      25            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -1.2902328e-05 -4.376313e-05 -8.7013821e-06    10.858929    16.288394     21.71788    3841.3393 
      26            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 6.9694585e-06 2.4211262e-05 4.7783413e-06    10.858929    16.288394     21.71788    3841.3393 
      27            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -2.7569714e-06 -9.969619e-06 -1.9438096e-06    10.858929    16.288394     21.71788    3841.3393 
      28            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 1.7189953e-06 6.8250883e-06 1.2952132e-06    10.858929    16.288394     21.71788    3841.3393 
      29            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -5.7273826e-07 -2.7261549e-06 -4.9329969e-07    10.858929    16.288394     21.71788    3841.3393 
      30            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 2.0673296e-07 1.4934857e-06 2.4777458e-07    10.858929    16.288394     21.71788    3841.3393 
      31            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -4.2467212e-08 -9.2701581e-07 -1.3563775e-07    10.858929    16.288394     21.71788    3841.3393 
      32            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -3.8803822e-08 6.3204932e-07 7.8275461e-08    10.858929    16.288394     21.71788    3841.3393 
      33            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 6.2155085e-08 -4.1165348e-07 -4.3206895e-08    10.858929    16.288394     21.71788    3841.3393 
      34            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -8.0384936e-08 3.3154829e-07 2.8424317e-08    10.858929    16.288394     21.71788    3841.3393 
      35            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 1.1596253e-07 -4.1628671e-07 -3.261705e-08    10.858929    16.288394     21.71788    3841.3393 
      36            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -1.1315701e-07 3.8503563e-07 2.8814493e-08    10.858929    16.288394     21.71788    3841.3393 
      37            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 1.453329e-07 -4.8383301e-07 -3.5664009e-08    10.858929    16.288394     21.71788    3841.3393 
      38            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -2.4055653e-07 7.971005e-07 5.8482245e-08    10.858929    16.288394     21.71788    3841.3393 
      39            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 1.8466875e-07 -6.1083732e-07 -4.4773276e-08    10.858929    16.288394     21.71788    3841.3393 
      40            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -1.4276237e-07 4.7170517e-07 3.4480598e-08    10.858929    16.288394     21.71788    3841.3393 
      41            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 2.4558258e-07 -8.108557e-07 -5.9213667e-08    10.858929    16.288394     21.71788    3841.3393 
      42            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -1.830878e-07 6.0421091e-07 4.4038641e-08    10.858929    16.288394     21.71788    3841.3393 
      43            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 2.1247911e-07 -7.0110669e-07 -5.1121617e-08    10.858929    16.288394     21.71788    3841.3393 
      44            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -2.708417e-07 8.9379085e-07 6.5238383e-08    10.858929    16.288394     21.71788    3841.3393 
      45            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 3.0313853e-07 -1.0006395e-06 -7.2979879e-08    10.858929    16.288394     21.71788    3841.3393 
      46            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -2.2164857e-07 7.3176637e-07 5.3363069e-08    10.858929    16.288394     21.71788    3841.3393 
      47            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 2.598629e-07 -8.5846031e-07 -6.2591988e-08    10.858929    16.288394     21.71788    3841.3393 
      48            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -1.5149063e-07 5.0037665e-07 3.6467923e-08    10.858929    16.288394     21.71788    3841.3393 
      49            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 4.8364802e-08 -1.5949213e-07 -1.1631959e-08    10.858929    16.288394     21.71788    3841.3393 
      50            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -2.771837e-08 9.0891871e-08 6.6029421e-09    10.858929    16.288394     21.71788    3841.3393 
      51            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 1.2062884e-08 -3.9483224e-08 -2.9240411e-09    10.858929    16.288394     21.71788    3841.3393 
      52            0    -832.4206   -1.0300361  -0.79845688  -0.79845688   -1.4931945 -3.9438944e-09 1.256738e-08 1.0328932e-09    10.858929    16.288394     21.71788    3841.3393 
Loop time of 1.9047 on 1 procs for 49 steps with 192 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602747     -832.420602747
  Force two-norm initial, final = 0.00295014 6.73504e-11
  Force max component initial, final = 0.000392238 1.06413e-11
  Final line search alpha, max atom move = 1 1.06413e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9011     | 1.9011     | 1.9011     |   0.0 | 99.81
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00060296 | 0.00060296 | 0.00060296 |   0.0 |  0.03
Output  | 0.0017626  | 0.0017626  | 0.0017626  |   0.0 |  0.09
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001231   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.420602746934
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.03003607231238
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -0.798456882500461
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -0.798456882543109
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal -1.49319445189356
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.94389440852448e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 1.25673801825769e-08
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 1.03289321179693e-09

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 79.8456882517612
variable C2pos equal ${d2}
variable C2pos equal 79.8456882521003
variable C3pos equal ${d3}
variable C3pos equal 149.319445197913
variable C4pos equal ${d4}
variable C4pos equal -6.717770221491e-08
variable C5pos equal ${d5}
variable C5pos equal -1.24057792202638e-06
variable C6pos equal ${d6}
variable C6pos equal 3.46252474200824e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(${C1neg}+${C1pos})
variable C13 equal 0.5*(79.846159657027+${C1pos})
variable C13 equal 0.5*(79.846159657027+79.8456882517612)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(${C2neg}+${C2pos})
variable C23 equal 0.5*(79.8461596632076+${C2pos})
variable C23 equal 0.5*(79.8461596632076+79.8456882521003)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(${C3neg}+${C3pos})
variable C33 equal 0.5*(149.319990421507+${C3pos})
variable C33 equal 0.5*(149.319990421507+149.319445197913)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(${C4neg}+${C4pos})
variable C43 equal 0.5*(2.7667274130664e-09+${C4pos})
variable C43 equal 0.5*(2.7667274130664e-09+-6.717770221491e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(${C5neg}+${C5pos})
variable C53 equal 0.5*(9.58879135877812e-07+${C5pos})
variable C53 equal 0.5*(9.58879135877812e-07+-1.24057792202638e-06)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(${C6neg}+${C6pos})
variable C63 equal 0.5*(1.02816679718439e-06+${C6pos})
variable C63 equal 0.5*(1.02816679718439e-06+3.46252474200824e-07)

# Delete dir to make sure it is not reused

variable dir delete

# uyz Perturbation

variable dir equal 4
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 21.7178580707777
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*21.7178580707777
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta -2.17178580707777e-05 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 -2.17179e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206 8.5493457e-05 8.8801693e-05 8.6633453e-05 8.1045224e-05  -0.08753645  -0.28941897     1.065971    10.858929    16.288394    21.717858    3841.3355 
       4            0    -832.4206 6.6479724e-06 7.4049529e-06 6.2834839e-06 6.2554804e-06  0.022338922  0.073869071   0.40115603    10.858929    16.288394    21.717858    3841.3355 
       5            0    -832.4206 1.0802869e-06 1.6642318e-06 4.8920502e-08 1.5277084e-06 -0.019048283  -0.06299446   0.65162734    10.858929    16.288394    21.717858    3841.3355 
       6            0    -832.4206 2.1531636e-07  6.56672e-07 -2.4905216e-07 2.3832923e-07  0.018765969  0.062063125   0.42275824    10.858929    16.288394    21.717858    3841.3355 
       7            0    -832.4206 9.8331752e-08 5.2756591e-07 -5.6190112e-07 3.2933047e-07 -0.013106266 -0.043346624   0.61567042    10.858929    16.288394    21.717858    3841.3355 
       8            0    -832.4206 -6.7218272e-08 2.4656679e-07 -5.3390732e-07 8.5685709e-08  0.010047688  0.033231801   0.47552191    10.858929    16.288394    21.717858    3841.3355 
       9            0    -832.4206 -7.0581172e-08 2.9563277e-07 -6.6931189e-07 1.619356e-07 -0.0072113562 -0.023851419   0.57999232    10.858929    16.288394    21.717858    3841.3355 
      10            0    -832.4206 -1.0999562e-07 1.8943867e-07 -5.9845366e-07 7.9028142e-08 0.0055113729  0.018229266   0.50297812    10.858929    16.288394    21.717858    3841.3355 
      11            0    -832.4206 -9.9126045e-08 2.359259e-07 -6.5987523e-07 1.265712e-07 -0.0041112258 -0.013598571   0.56122839    10.858929    16.288394    21.717858    3841.3355 
      12            0    -832.4206 -1.1454503e-07 1.8585239e-07 -6.1652263e-07 8.7035148e-08   0.00266397 0.0088118293   0.52021331    10.858929    16.288394    21.717858    3841.3355 
      13            0    -832.4206 -1.0618161e-07 2.1048972e-07 -6.4234175e-07 1.1330719e-07 -0.0018216073 -0.006025787   0.54736906    10.858929    16.288394    21.717858    3841.3355 
      14            0    -832.4206 -1.1149454e-07 1.9046579e-07 -6.2255621e-07 9.7606796e-08 0.0010621426  0.003513848   0.52990943    10.858929    16.288394    21.717858    3841.3355 
      15            0    -832.4206 -1.0811994e-07 1.9870571e-07 -6.3124092e-07 1.081754e-07 -0.00064421489 -0.0021316784   0.54024225    10.858929    16.288394    21.717858    3841.3355 
      16            0    -832.4206 -1.1017603e-07 1.911681e-07 -6.2338569e-07 1.0168951e-07 0.00041699785 0.0013802612   0.53381416    10.858929    16.288394    21.717858    3841.3355 
      17            0    -832.4206 -1.0865102e-07 1.943349e-07 -6.2580854e-07 1.0552059e-07 -0.00025443533 -0.00084272573   0.53788333    10.858929    16.288394    21.717858    3841.3355 
      18            0    -832.4206 -1.0941307e-07 1.9143444e-07 -6.2257452e-07 1.0290088e-07 0.00016158137 0.00053570245   0.53535976    10.858929    16.288394    21.717858    3841.3355 
      19            0    -832.4206 -1.0901608e-07 1.9251234e-07 -6.2362481e-07 1.0406422e-07 -7.6084439e-05 -0.00025275129   0.53680355    10.858929    16.288394    21.717858    3841.3355 
      20            0    -832.4206 -1.0932287e-07 1.9150526e-07 -6.2255154e-07 1.0307766e-07 4.180346e-05 0.00013951982   0.53608485    10.858929    16.288394    21.717858    3841.3355 
      21            0    -832.4206 -1.0928067e-07 1.9176748e-07 -6.2287343e-07 1.0326395e-07 -2.1613508e-05 -7.2700927e-05   0.53647407    10.858929    16.288394    21.717858    3841.3355 
      22            0    -832.4206 -1.0926105e-07 1.9153113e-07 -6.2248038e-07 1.0316608e-07 1.103611e-05 3.7829384e-05   0.53627094    10.858929    16.288394    21.717858    3841.3355 
      23            0    -832.4206 -1.0914648e-07 1.916358e-07 -6.2240577e-07 1.0333054e-07 -8.5554484e-06 -3.0607661e-05   0.53639739    10.858929    16.288394    21.717858    3841.3355 
      24            0    -832.4206 -1.0920343e-07 1.915196e-07 -6.223078e-07 1.0317791e-07 3.5414775e-06 1.3674928e-05   0.53631494    10.858929    16.288394    21.717858    3841.3355 
      25            0    -832.4206 -1.0925221e-07 1.9147012e-07 -6.2237633e-07 1.0314959e-07 -2.5365072e-06 -1.1891382e-05   0.53636353    10.858929    16.288394    21.717858    3841.3355 
      26            0    -832.4206 -1.0915536e-07 1.9150333e-07 -6.2216688e-07 1.0319747e-07 9.7604125e-07 6.9553748e-06   0.53632665    10.858929    16.288394    21.717858    3841.3355 
      27            0    -832.4206 -1.0915833e-07 1.9148629e-07 -6.221875e-07 1.0322622e-07 -1.1553506e-07 -3.1167133e-06   0.53634722    10.858929    16.288394    21.717858    3841.3355 
      28            0    -832.4206 -1.091711e-07 1.9143752e-07 -6.2218588e-07 1.0323505e-07 -3.4816511e-07 2.5106849e-06   0.53633481    10.858929    16.288394    21.717858    3841.3355 
      29            0    -832.4206 -1.0917307e-07 1.9148516e-07 -6.2224644e-07 1.0324208e-07 4.2826248e-07 -1.2580057e-06    0.5363438    10.858929    16.288394    21.717858    3841.3355 
      30            0    -832.4206 -1.0922601e-07 1.9143194e-07 -6.2224665e-07 1.0313669e-07 -5.0665588e-07 9.2926533e-07   0.53633805    10.858929    16.288394    21.717858    3841.3355 
      31            0    -832.4206 -1.0922291e-07 1.9140495e-07 -6.2228048e-07 1.0320679e-07 5.329193e-07 -7.6961872e-07   0.53634286    10.858929    16.288394    21.717858    3841.3355 
      32            0    -832.4206 -1.0923966e-07 1.914214e-07 -6.2226718e-07 1.0312679e-07 -5.3565706e-07 6.7676446e-07   0.53633856    10.858929    16.288394    21.717858    3841.3355 
      33            0    -832.4206 -1.0918199e-07 1.9145512e-07 -6.2220778e-07 1.0320669e-07 4.4267091e-07 -5.2346562e-07   0.53634223    10.858929    16.288394    21.717858    3841.3355 
      34            0    -832.4206 -1.0924454e-07 1.9142181e-07 -6.2224457e-07 1.0308913e-07 -4.338434e-07 4.8961844e-07   0.53633908    10.858929    16.288394    21.717858    3841.3355 
      35            0    -832.4206 -1.0919812e-07 1.9146925e-07 -6.2221923e-07 1.0315562e-07 5.8277433e-07 -6.4821969e-07   0.53634265    10.858929    16.288394    21.717858    3841.3355 
      36            0    -832.4206 -1.0919944e-07 1.9141443e-07 -6.2221017e-07 1.0319743e-07 -5.5357616e-07 6.1233633e-07   0.53633868    10.858929    16.288394    21.717858    3841.3355 
      37            0    -832.4206 -1.0918789e-07 1.9150619e-07 -6.2219147e-07 1.0312161e-07 7.0163369e-07 -7.7440933e-07   0.53634305    10.858929    16.288394    21.717858    3841.3355 
      38            0    -832.4206 -1.0918395e-07 1.9146024e-07 -6.2220493e-07 1.0319285e-07 -1.1432787e-06 1.2612478e-06   0.53633664    10.858929    16.288394    21.717858    3841.3355 
      39            0    -832.4206 -1.0918848e-07 1.9146666e-07 -6.2223608e-07 1.0320397e-07 8.5248766e-07 -9.4037966e-07   0.53634357    10.858929    16.288394    21.717858    3841.3355 
      40            0    -832.4206 -1.0917328e-07 1.9148268e-07 -6.2220841e-07 1.0320588e-07 -6.2478544e-07 6.8915237e-07   0.53633844    10.858929    16.288394    21.717858    3841.3355 
      41            0    -832.4206 -1.0918151e-07 1.9146016e-07 -6.2221363e-07 1.0320892e-07 9.5723813e-07 -1.0557558e-06   0.53634394    10.858929    16.288394    21.717858    3841.3355 
      42            0    -832.4206 -1.091512e-07 1.9146819e-07 -6.2215233e-07 1.0323055e-07 -5.9461292e-07 6.5609741e-07   0.53633855    10.858929    16.288394    21.717858    3841.3355 
      43            0    -832.4206 -1.0915984e-07 1.9151282e-07 -6.2218065e-07 1.031883e-07 5.322086e-07 -5.8742409e-07   0.53634246    10.858929    16.288394    21.717858    3841.3355 
      44            0    -832.4206 -1.0914597e-07 1.9146735e-07 -6.2209834e-07 1.0319308e-07 -4.2110945e-07 4.6481659e-07   0.53633915    10.858929    16.288394    21.717858    3841.3355 
      45            0    -832.4206 -1.0916777e-07 1.9147125e-07 -6.2220335e-07 1.0322878e-07 3.0359965e-07 -3.3497469e-07   0.53634167    10.858929    16.288394    21.717858    3841.3355 
      46            0    -832.4206 -1.0916979e-07 1.9148702e-07 -6.222289e-07 1.0323253e-07 -1.1587606e-07 1.274932e-07   0.53634021    10.858929    16.288394    21.717858    3841.3355 
      47            0    -832.4206 -1.092426e-07 1.9137922e-07 -6.2225677e-07 1.0314976e-07 8.1129488e-08 -8.8747197e-08   0.53634089    10.858929    16.288394    21.717858    3841.3355 
      48            0    -832.4206 -1.0920927e-07 1.9143819e-07 -6.2223341e-07 1.031674e-07 -3.4705656e-08 3.7114854e-08   0.53634049    10.858929    16.288394    21.717858    3841.3355 
      49            0    -832.4206 -1.0925099e-07 1.9144938e-07 -6.2226143e-07 1.0305908e-07 1.0073208e-08 -1.0181184e-08   0.53634064    10.858929    16.288394    21.717858    3841.3355 
      50            0    -832.4206 -1.0913822e-07 1.9146454e-07 -6.2213973e-07 1.0326052e-07 -6.1522241e-09 5.4828383e-09   0.53634059    10.858929    16.288394    21.717858    3841.3355 
      51            0    -832.4206 -1.0914284e-07 1.9151592e-07 -6.2224314e-07 1.032987e-07 3.3160761e-09 -2.2088804e-09   0.53634062    10.858929    16.288394    21.717858    3841.3355 
      52            0    -832.4206 -1.0916761e-07 1.9150172e-07 -6.2222778e-07 1.0322323e-07 -1.8625802e-09 6.2417856e-10   0.53634061    10.858929    16.288394    21.717858    3841.3355 
Loop time of 1.90489 on 1 procs for 49 steps with 192 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602748     -832.420602748
  Force two-norm initial, final = 0.00295719 6.73757e-11
  Force max component initial, final = 0.000392238 1.03405e-11
  Final line search alpha, max atom move = 1 1.03405e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9015     | 1.9015     | 1.9015     |   0.0 | 99.82
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00058961 | 0.00058961 | 0.00058961 |   0.0 |  0.03
Output  | 0.0016882  | 0.0016882  | 0.0016882  |   0.0 |  0.09
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001118   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.91501723494157e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -6.22227781538423e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.03223225711326e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -1.86258019164212e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 6.24178564281909e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 0.536340608232508

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal 1.91484572292857e-05
variable C2neg equal ${d2}
variable C2neg equal -6.22205675438578e-05
variable C3neg equal ${d3}
variable C3neg equal 1.03137655161834e-05
variable C4neg equal ${d4}
variable C4neg equal 53.6340607871392
variable C5neg equal ${d5}
variable C5neg equal 4.62577601968806e-08
variable C6neg equal ${d6}
variable C6neg equal -1.38121052512588e-07

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*21.7178580707777
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
change_box all yz delta ${delta} remap units box
change_box all yz delta 2.17178580707777e-05 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 2.17179e-05)
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206 8.5669964e-05 8.8937223e-05 8.6714423e-05 8.1358246e-05 -0.087536826  -0.28941891   -1.1820075    10.858929    16.288394    21.717858    3841.3355 
       4            0    -832.4206 6.6477139e-06 7.3774219e-06 6.3272901e-06 6.2384298e-06  0.022272371  0.073650231  -0.37203094    10.858929    16.288394    21.717858    3841.3355 
       5            0    -832.4206 1.0923828e-06 1.6877352e-06 3.0992323e-08 1.5584208e-06 -0.018899213 -0.062502148   -0.6757802    10.858929    16.288394    21.717858    3841.3355 
       6            0    -832.4206 2.1017591e-07 6.3211757e-07 -2.2498797e-07 2.2339811e-07  0.018339614    0.0606535  -0.40102464    10.858929    16.288394    21.717858    3841.3355 
       7            0    -832.4206 1.0314224e-07 5.4075246e-07 -5.7354597e-07 3.4222024e-07 -0.012508858 -0.041370297  -0.62863654    10.858929    16.288394    21.717858    3841.3355 
       8            0    -832.4206 -6.9051868e-08 2.3786287e-07 -5.2461406e-07 7.9595582e-08  0.009329486  0.030855365  -0.46750303    10.858929    16.288394    21.717858    3841.3355 
       9            0    -832.4206 -6.9363051e-08 2.9974527e-07 -6.7297428e-07 1.6513986e-07  -0.00642719 -0.021256478  -0.58376345    10.858929    16.288394    21.717858    3841.3355 
      10            0    -832.4206 -1.103068e-07 1.8780167e-07 -5.965156e-07 7.7793549e-08 0.0047307887  0.015645838  -0.50143502    10.858929    16.288394    21.717858    3841.3355 
      11            0    -832.4206 -9.9152414e-08 2.3611328e-07 -6.5999908e-07 1.2642856e-07 -0.0033829417 -0.011187972   -0.5613008    10.858929    16.288394    21.717858    3841.3355 
      12            0    -832.4206 -1.1429695e-07 1.8650884e-07 -6.1716209e-07 8.7762405e-08 0.0020963686 0.0069328958  -0.52087344    10.858929    16.288394    21.717858    3841.3355 
      13            0    -832.4206 -1.0644527e-07 2.0979263e-07 -6.4152198e-07 1.1239353e-07 -0.0013905875 -0.0045985938  -0.54659998    10.858929    16.288394    21.717858    3841.3355 
      14            0    -832.4206 -1.1136174e-07 1.9101935e-07 -6.2316175e-07 9.8057162e-08 0.00079488036 0.0026284362  -0.53047665    10.858929    16.288394    21.717858    3841.3355 
      15            0    -832.4206 -1.0828155e-07 1.9827259e-07 -6.3087054e-07 1.0775331e-07 -0.0004781342 -0.0015807537  -0.53986719    10.858929    16.288394    21.717858    3841.3355 
      16            0    -832.4206 -1.1001022e-07 1.9150345e-07 -6.2354232e-07 1.020082e-07 0.00030785782 0.0010175368  -0.53407057    10.858929    16.288394    21.717858    3841.3355 
      17            0    -832.4206 -1.0867876e-07 1.9418326e-07 -6.2564173e-07 1.0542218e-07 -0.00018758335 -0.00061965052  -0.53772296    10.858929    16.288394    21.717858    3841.3355 
      18            0    -832.4206 -1.0942054e-07 1.9142212e-07 -6.2264572e-07 1.0296198e-07 0.00011916963 0.00039332957  -0.53546319    10.858929    16.288394    21.717858    3841.3355 
      19            0    -832.4206 -1.0903151e-07 1.9245823e-07 -6.2348082e-07 1.0392805e-07 -5.6326508e-05 -0.00018558913  -0.53675458    10.858929    16.288394    21.717858    3841.3355 
      20            0    -832.4206 -1.0926513e-07 1.9155404e-07 -6.2255425e-07 1.032048e-07 3.1283492e-05 0.00010266748  -0.53611166    10.858929    16.288394    21.717858    3841.3355 
      21            0    -832.4206 -1.0914555e-07 1.9187485e-07 -6.2276267e-07 1.0345116e-07 -1.6474489e-05 -5.3714486e-05  -0.53646035    10.858929    16.288394    21.717858    3841.3355 
      22            0    -832.4206 -1.0923346e-07 1.9160959e-07 -6.2246925e-07 1.0315929e-07 8.7908562e-06 2.8232532e-05  -0.53627773    10.858929    16.288394    21.717858    3841.3355 
      23            0    -832.4206 -1.0917207e-07 1.9167273e-07 -6.2243758e-07 1.0324865e-07 -7.5030772e-06 -2.335025e-05  -0.53639253    10.858929    16.288394    21.717858    3841.3355 
      24            0    -832.4206 -1.092467e-07 1.9147298e-07 -6.2234226e-07 1.031292e-07 3.6455366e-06 1.0814114e-05  -0.53631663    10.858929    16.288394    21.717858    3841.3355 
      25            0    -832.4206 -1.0915728e-07 1.9150829e-07 -6.2223356e-07 1.0325343e-07 -3.7374762e-06 -1.0142382e-05  -0.53636297    10.858929    16.288394    21.717858    3841.3355 
      26            0    -832.4206 -1.0916833e-07 1.9150706e-07 -6.2217966e-07 1.031676e-07 2.7164041e-06 6.6227399e-06  -0.53632612    10.858929    16.288394    21.717858    3841.3355 
      27            0    -832.4206 -1.0921911e-07 1.9145079e-07 -6.2230326e-07 1.0319514e-07 -1.5535037e-06 -3.4054253e-06    -0.536348    10.858929    16.288394    21.717858    3841.3355 
      28            0    -832.4206 -1.0920606e-07 1.9141611e-07 -6.2220027e-07 1.0316597e-07 1.7123304e-06 3.3435001e-06  -0.53633343    10.858929    16.288394    21.717858    3841.3355 
      29            0    -832.4206 -1.09174e-07 1.9144717e-07 -6.2223595e-07 1.0326676e-07 -1.1231043e-06 -2.0204625e-06  -0.53634491    10.858929    16.288394    21.717858    3841.3355 
      30            0    -832.4206 -1.091858e-07 1.9145582e-07 -6.2224762e-07 1.0323439e-07 1.0283678e-06 1.7512904e-06   -0.5363369    10.858929    16.288394    21.717858    3841.3355 
      31            0    -832.4206 -1.0919491e-07 1.9149032e-07 -6.2227798e-07 1.0320292e-07 -9.6986178e-07 -1.6042483e-06    -0.536344    10.858929    16.288394    21.717858    3841.3355 
      32            0    -832.4206 -1.0917896e-07 1.9146439e-07 -6.2217901e-07 1.0317774e-07 9.2262997e-07 1.5016073e-06  -0.53633745    10.858929    16.288394    21.717858    3841.3355 
      33            0    -832.4206 -1.0927703e-07 1.9137899e-07 -6.2232019e-07 1.0311011e-07 -7.4297772e-07 -1.1997236e-06  -0.53634314    10.858929    16.288394    21.717858    3841.3355 
      34            0    -832.4206 -1.0919672e-07 1.9143317e-07 -6.222467e-07 1.0322337e-07 7.1507485e-07 1.1486026e-06  -0.53633819    10.858929    16.288394    21.717858    3841.3355 
      35            0    -832.4206 -1.0922272e-07 1.9146887e-07 -6.2224431e-07 1.0310729e-07 -9.544385e-07 -1.5306593e-06  -0.53634383    10.858929    16.288394    21.717858    3841.3355 
      36            0    -832.4206 -1.0924186e-07 1.9144601e-07 -6.2227654e-07 1.0310495e-07 9.0298385e-07 1.4471035e-06  -0.53633757    10.858929    16.288394    21.717858    3841.3355 
      37            0    -832.4206 -1.0920539e-07 1.9139206e-07 -6.2227698e-07 1.0326876e-07 -1.1379166e-06 -1.8230035e-06  -0.53634444    10.858929    16.288394    21.717858    3841.3355 
      38            0    -832.4206 -1.0914807e-07 1.9151392e-07 -6.221539e-07 1.0319576e-07 1.8096769e-06 2.8990729e-06  -0.53633451    10.858929    16.288394    21.717858    3841.3355 
      39            0    -832.4206 -1.0914717e-07 1.9149547e-07 -6.222314e-07 1.0329441e-07 -1.2859703e-06 -2.0600863e-06  -0.53634494    10.858929    16.288394    21.717858    3841.3355 
      40            0    -832.4206 -1.0920423e-07 1.9143337e-07 -6.2225578e-07 1.0320973e-07 8.6950251e-07 1.3928541e-06  -0.53633768    10.858929    16.288394    21.717858    3841.3355 
      41            0    -832.4206 -1.0917317e-07 1.9151032e-07 -6.2224598e-07 1.0321614e-07 -1.1522777e-06 -1.8458442e-06  -0.53634449    10.858929    16.288394    21.717858    3841.3355 
      42            0    -832.4206 -1.0922267e-07 1.9141966e-07 -6.2227429e-07 1.0318662e-07 6.0477336e-07 9.6907404e-07  -0.53633857    10.858929    16.288394    21.717858    3841.3355 
      43            0    -832.4206 -1.0919466e-07 1.914772e-07 -6.2222501e-07 1.0316382e-07 -4.5943175e-07 -7.3667667e-07  -0.53634216    10.858929    16.288394    21.717858    3841.3355 
      44            0    -832.4206 -1.092536e-07 1.9137637e-07 -6.2224054e-07 1.0310336e-07 3.0461787e-07 4.8860172e-07  -0.53633958    10.858929    16.288394    21.717858    3841.3355 
      45            0    -832.4206 -1.0915982e-07 1.9145901e-07 -6.222062e-07 1.0326774e-07 -2.0046713e-07 -3.2186638e-07  -0.53634129    10.858929    16.288394    21.717858    3841.3355 
      46            0    -832.4206 -1.0919117e-07 1.9144656e-07 -6.2223499e-07 1.0321493e-07 7.0911304e-08 1.1404553e-07  -0.53634037    10.858929    16.288394    21.717858    3841.3355 
      47            0    -832.4206 -1.0921502e-07 1.9141825e-07 -6.2227051e-07 1.032072e-07 -4.7770319e-08 -7.7005677e-08  -0.53634077    10.858929    16.288394    21.717858    3841.3355 
      48            0    -832.4206 -1.0915862e-07 1.9150086e-07 -6.2215979e-07 1.0318306e-07 1.9616285e-08 3.1792773e-08  -0.53634054    10.858929    16.288394    21.717858    3841.3355 
      49            0    -832.4206 -1.0912859e-07 1.915023e-07 -6.2216643e-07 1.0327836e-07 -5.1196539e-09 -8.5076928e-09  -0.53634063    10.858929    16.288394    21.717858    3841.3355 
      50            0    -832.4206 -1.0915891e-07 1.9151344e-07 -6.2222424e-07 1.0323406e-07 2.6425333e-09 4.3806327e-09   -0.5363406    10.858929    16.288394    21.717858    3841.3355 
      51            0    -832.4206 -1.0924062e-07 1.9140921e-07 -6.2225247e-07 1.031214e-07 -1.1808646e-09 -1.7109096e-09  -0.53634061    10.858929    16.288394    21.717858    3841.3355 
      52            0    -832.4206 -1.0919063e-07 1.9145038e-07 -6.2219304e-07 1.0317077e-07 4.6981569e-10 3.9398853e-10  -0.53634061    10.858929    16.288394    21.717858    3841.3355 
Loop time of 1.91023 on 1 procs for 49 steps with 192 atoms

99.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602748     -832.420602748
  Force two-norm initial, final = 0.00296065 6.73855e-11
  Force max component initial, final = 0.000392238 1.03541e-11
  Final line search alpha, max atom move = 1 1.03541e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9066     | 1.9066     | 1.9066     |   0.0 | 99.81
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00064898 | 0.00064898 | 0.00064898 |   0.0 |  0.03
Output  | 0.0018079  | 0.0018079  | 0.0018079  |   0.0 |  0.09
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001221   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.420602748076
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.09190632731389e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal 1.91450375107618e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal -6.22193042815006e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.03170769513219e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 4.69815691065335e-10
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 3.93988526772458e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -0.536340609873125

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal -1.91433223906318e-05
variable C2pos equal ${d2}
variable C2pos equal 6.22170936715161e-05
variable C3pos equal ${d3}
variable C3pos equal -1.03085198963727e-05
variable C4pos equal ${d4}
variable C4pos equal 53.6340610234241
variable C5pos equal ${d5}
variable C5pos equal -2.32387564459355e-08
variable C6pos equal ${d6}
variable C6pos equal -9.51185357581573e-08

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(${C1neg}+${C1pos})
variable C14 equal 0.5*(1.91484572292857e-05+${C1pos})
variable C14 equal 0.5*(1.91484572292857e-05+-1.91433223906318e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(${C2neg}+${C2pos})
variable C24 equal 0.5*(-6.22205675438578e-05+${C2pos})
variable C24 equal 0.5*(-6.22205675438578e-05+6.22170936715161e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(${C3neg}+${C3pos})
variable C34 equal 0.5*(1.03137655161834e-05+${C3pos})
variable C34 equal 0.5*(1.03137655161834e-05+-1.03085198963727e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(${C4neg}+${C4pos})
variable C44 equal 0.5*(53.6340607871392+${C4pos})
variable C44 equal 0.5*(53.6340607871392+53.6340610234241)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(${C5neg}+${C5pos})
variable C54 equal 0.5*(4.62577601968806e-08+${C5pos})
variable C54 equal 0.5*(4.62577601968806e-08+-2.32387564459355e-08)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(${C6neg}+${C6pos})
variable C64 equal 0.5*(-1.38121052512588e-07+${C6pos})
variable C64 equal 0.5*(-1.38121052512588e-07+-9.51185357581573e-08)

# Delete dir to make sure it is not reused

variable dir delete

# uxz Perturbation

variable dir equal 5
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
variable len0 equal ${lz0}
variable len0 equal 21.7178580707777
if "${dir} == 6" then    "variable len0 equal ${ly0}"

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*21.7178580707777
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta -2.17178580707777e-05 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 -2.17179e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206 8.5142213e-05 8.7132062e-05 8.7872925e-05 8.0421652e-05   -0.0875366   0.83457028 -0.058018269    10.858929    16.288394    21.717858    3841.3355 
       4            0    -832.4206 6.6483913e-06 6.7994674e-06 6.8562028e-06 6.2895037e-06  0.022470453   0.45976986  0.014893831    10.858929    16.288394    21.717858    3841.3355 
       5            0    -832.4206 1.0555601e-06 6.7198019e-07 1.0297514e-06 1.4649488e-06 -0.019353674    0.6022993 -0.012827999    10.858929    16.288394    21.717858    3841.3355 
       6            0    -832.4206 2.2622582e-07 3.0197271e-08 3.7908623e-07 2.6939396e-07  0.019680113   0.46926677  0.013045117    10.858929    16.288394    21.717858    3841.3355 
       7            0    -832.4206 8.7227386e-08 -4.1382909e-07 3.7627951e-07 2.9923173e-07 -0.014488389   0.58572139 -0.0096037016    10.858929    16.288394    21.717858    3841.3355 
       8            0    -832.4206 -6.2862219e-08 -4.6387397e-07 1.7503205e-07 1.0025526e-07  0.011873609   0.49587102 0.0078705511    10.858929    16.288394    21.717858    3841.3355 
       9            0    -832.4206 -7.443357e-08 -5.9424129e-07 2.1924459e-07 1.5169599e-07 -0.0095348422   0.56883929 -0.0063202308    10.858929    16.288394    21.717858    3841.3355 
      10            0    -832.4206 -1.0900219e-07 -5.6217565e-07 1.5256603e-07 8.260304e-08 0.0082209328   0.50832003 0.0054492759    10.858929    16.288394    21.717858    3841.3355 
      11            0    -832.4206 -9.9285671e-08 -6.2707898e-07 2.0264162e-07 1.2658035e-07 -0.0072133808   0.56092721 -0.0047813653    10.858929    16.288394    21.717858    3841.3355 
      12            0    -832.4206 -1.1587898e-07 -5.9198676e-07 1.6097478e-07 8.3375038e-08 0.0058030193   0.51656108 0.0038464968    10.858929    16.288394    21.717858    3841.3355 
      13            0    -832.4206 -1.0441748e-07 -6.3022374e-07 1.9851256e-07 1.1845873e-07 -0.0047875751    0.5526591 -0.0031733811    10.858929    16.288394    21.717858    3841.3355 
      14            0    -832.4206 -1.1304087e-07 -6.0581115e-07 1.7369865e-07 9.2989891e-08 0.0032437272   0.52528424 0.0021500435    10.858929    16.288394    21.717858    3841.3355 
      15            0    -832.4206 -1.0704989e-07 -6.2603323e-07 1.9342617e-07 1.1145738e-07 -0.0021204851   0.54356849  -0.00140549    10.858929    16.288394    21.717858    3841.3355 
      16            0    -832.4206 -1.1097236e-07 -6.1502892e-07 1.8287504e-07 9.9236793e-08 0.0014508974   0.53139497 0.00096165005    10.858929    16.288394    21.717858    3841.3355 
      17            0    -832.4206 -1.0808217e-07 -6.2392827e-07 1.9247825e-07 1.0720349e-07 -0.00091112154   0.53944647 -0.00060385227    10.858929    16.288394    21.717858    3841.3355 
      18            0    -832.4206 -1.0976506e-07 -6.1935752e-07 1.8815376e-07 1.0190859e-07 0.00059042186   0.53432782 0.00039127402    10.858929    16.288394    21.717858    3841.3355 
      19            0    -832.4206 -1.0883473e-07 -6.2255963e-07 1.9155699e-07 1.0449846e-07 -0.00028136533   0.53729994 -0.00018642965    10.858929    16.288394    21.717858    3841.3355 
      20            0    -832.4206 -1.09438e-07 -6.213867e-07 1.9034389e-07 1.027288e-07 0.00015578729   0.53580928 0.00010318293    10.858929    16.288394    21.717858    3841.3355 
      21            0    -832.4206 -1.0912106e-07 -6.2226154e-07 1.9134227e-07 1.035561e-07 -8.1216059e-05   0.53661776 -5.3756996e-05    10.858929    16.288394    21.717858    3841.3355 
      22            0    -832.4206 -1.0929495e-07 -6.2195284e-07 1.9103096e-07 1.0303703e-07 4.2086356e-05   0.53619681 2.7813688e-05    10.858929    16.288394    21.717858    3841.3355 
      23            0    -832.4206 -1.0915725e-07 -6.2219245e-07 1.9134434e-07 1.0337638e-07 -3.367455e-05     0.536456 -2.2177028e-05    10.858929    16.288394    21.717858    3841.3355 
      24            0    -832.4206 -1.0918972e-07 -6.2211994e-07 1.9135327e-07 1.0319753e-07 1.4754542e-05   0.53628981 9.6580837e-06    10.858929    16.288394    21.717858    3841.3355 
      25            0    -832.4206 -1.0914207e-07 -6.2220828e-07 1.9145812e-07 1.0332396e-07 -1.2260982e-05   0.53638332 -7.9096581e-06    10.858929    16.288394    21.717858    3841.3355 
      26            0    -832.4206 -1.0922717e-07 -6.2219907e-07 1.9137064e-07 1.0314694e-07 6.6386378e-06   0.53631701 4.1691317e-06    10.858929    16.288394    21.717858    3841.3355 
      27            0    -832.4206 -1.0915445e-07 -6.2221137e-07 1.9148681e-07 1.0326122e-07 -2.636713e-06   0.53635031 -1.5780946e-06    10.858929    16.288394    21.717858    3841.3355 
      28            0    -832.4206 -1.0915652e-07 -6.221973e-07 1.9147789e-07 1.0324984e-07 1.6604206e-06   0.53633399 8.7351576e-07    10.858929    16.288394    21.717858    3841.3355 
      29            0    -832.4206 -1.0920799e-07 -6.2223084e-07 1.9145796e-07 1.0314891e-07 -5.6531079e-07   0.53634324 -2.0893273e-07    10.858929    16.288394    21.717858    3841.3355 
      30            0    -832.4206 -1.0917586e-07 -6.222271e-07 1.9148547e-07 1.0321406e-07 2.1758995e-07   0.53633919 -1.7287616e-08    10.858929    16.288394    21.717858    3841.3355 
      31            0    -832.4206 -1.0920581e-07 -6.2224348e-07 1.9142629e-07 1.0319977e-07 -6.1124538e-08   0.53634148 1.1636473e-07    10.858929    16.288394    21.717858    3841.3355 
      32            0    -832.4206 -1.0912688e-07 -6.2220671e-07 1.9152783e-07 1.0329825e-07 -1.6619022e-08   0.53634003 -1.6267688e-07    10.858929    16.288394    21.717858    3841.3355 
      33            0    -832.4206 -1.0920018e-07 -6.2221245e-07 1.9143738e-07 1.0317453e-07 4.2414317e-08   0.53634098 1.5136199e-07    10.858929    16.288394    21.717858    3841.3355 
      34            0    -832.4206 -1.092291e-07 -6.2224202e-07 1.9137859e-07 1.0317613e-07 -6.0137729e-08   0.53634031 -1.5926009e-07    10.858929    16.288394    21.717858    3841.3355 
      35            0    -832.4206 -1.0919522e-07 -6.2220384e-07 1.9144673e-07 1.0317146e-07 8.8231577e-08   0.53634098 2.1836983e-07    10.858929    16.288394    21.717858    3841.3355 
      36            0    -832.4206 -1.0925592e-07 -6.2227846e-07 1.9140043e-07 1.0311028e-07 -8.6653039e-08   0.53634027 -2.0933589e-07    10.858929    16.288394    21.717858    3841.3355 
      37            0    -832.4206 -1.0914593e-07 -6.2218826e-07 1.9150324e-07 1.0324722e-07 1.115481e-07   0.53634104 2.6679537e-07    10.858929    16.288394    21.717858    3841.3355 
      38            0    -832.4206 -1.0917681e-07 -6.2218382e-07 1.9142621e-07 1.0322717e-07 -1.8476603e-07    0.5363399 -4.4086421e-07    10.858929    16.288394    21.717858    3841.3355 
      39            0    -832.4206 -1.0922343e-07 -6.2224121e-07 1.9142691e-07  1.03144e-07 1.4200488e-07   0.53634115 3.3826853e-07    10.858929    16.288394    21.717858    3841.3355 
      40            0    -832.4206 -1.0918346e-07 -6.2221139e-07 1.9141775e-07 1.0324324e-07 -1.0996401e-07   0.53634019 -2.6139695e-07    10.858929    16.288394    21.717858    3841.3355 
      41            0    -832.4206 -1.0922779e-07 -6.2225028e-07 1.9141329e-07 1.0315361e-07 1.8915477e-07   0.53634133 4.4940878e-07    10.858929    16.288394    21.717858    3841.3355 
      42            0    -832.4206 -1.0925302e-07 -6.2225729e-07 1.9139084e-07 1.0310738e-07 -1.409881e-07   0.53634008 -3.347921e-07    10.858929    16.288394    21.717858    3841.3355 
      43            0    -832.4206 -1.0912131e-07 -6.2219728e-07 1.9150766e-07 1.0332569e-07 1.6352515e-07   0.53634123 3.8818238e-07    10.858929    16.288394    21.717858    3841.3355 
      44            0    -832.4206 -1.0918694e-07 -6.2223215e-07 1.9144386e-07 1.0322748e-07 -2.0821159e-07   0.53633982 -4.9377257e-07    10.858929    16.288394    21.717858    3841.3355 
      45            0    -832.4206 -1.09247e-07 -6.2225507e-07 1.9137102e-07 1.0314304e-07 2.3252226e-07   0.53634149 5.5123419e-07    10.858929    16.288394    21.717858    3841.3355 
      46            0    -832.4206 -1.091993e-07 -6.2223722e-07 1.9146069e-07 1.0317862e-07 -1.6886884e-07   0.53633997 -4.0014418e-07    10.858929    16.288394    21.717858    3841.3355 
      47            0    -832.4206 -1.0918237e-07 -6.2222316e-07 1.9149192e-07 1.0318413e-07 1.9615568e-07   0.53634135 4.645658e-07    10.858929    16.288394    21.717858    3841.3355 
      48            0    -832.4206 -1.091837e-07 -6.2226714e-07 1.9143902e-07 1.0327703e-07 -1.1345014e-07   0.53634018 -2.6807274e-07    10.858929    16.288394    21.717858    3841.3355 
      49            0    -832.4206 -1.0920896e-07 -6.2221263e-07 1.9142181e-07 1.0316394e-07 3.6083452e-08   0.53634075 8.4932576e-08    10.858929    16.288394    21.717858    3841.3355 
      50            0    -832.4206 -1.0917621e-07 -6.2220547e-07 1.9145082e-07 1.0322602e-07 -2.0805564e-08   0.53634053 -4.8339548e-08    10.858929    16.288394    21.717858    3841.3355 
      51            0    -832.4206 -1.0922486e-07 -6.2227275e-07 1.9138885e-07 1.0320932e-07 9.1863246e-09   0.53634064 2.091426e-08    10.858929    16.288394    21.717858    3841.3355 
      52            0    -832.4206 -1.0925054e-07 -6.2225232e-07 1.9137777e-07 1.0312294e-07 -3.1468823e-09    0.5363406 -6.7500232e-09    10.858929    16.288394    21.717858    3841.3355 
Loop time of 1.91416 on 1 procs for 49 steps with 192 atoms

99.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.420602581     -832.420602748     -832.420602748
  Force two-norm initial, final = 0.00295027 6.7357e-11
  Force max component initial, final = 0.000408679 1.00085e-11
  Final line search alpha, max atom move = 1 1.00085e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9105     | 1.9105     | 1.9105     |   0.0 | 99.81
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00062561 | 0.00062561 | 0.00062561 |   0.0 |  0.03
Output  | 0.0018442  | 0.0018442  | 0.0018442  |   0.0 |  0.10
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001164   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -6.22252324889338e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.91377766327156e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.03122935399116e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -3.14688228085873e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 0.536340600222313
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -6.75002318012926e-09

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -6.22269476090638e-05
variable C2neg equal ${d2}
variable C2neg equal 1.91399872427001e-05
variable C3neg equal ${d3}
variable C3neg equal 1.03037364849624e-05
variable C4neg equal ${d4}
variable C4neg equal -7.11113936977709e-07
variable C5neg equal ${d5}
variable C5neg equal 53.6340600060712
variable C6neg equal ${d6}
variable C6neg equal -2.66551261434249e-07

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*21.7178580707777
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
change_box all xz delta ${delta} remap units box
change_box all xz delta 2.17178580707777e-05 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 2.17179e-05 0)
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206 8.602117e-05 8.7534444e-05 8.8547267e-05 8.1981798e-05 -0.087536676   -1.4134082 -0.058018207    10.858929    16.288394    21.717858    3841.3355 
       4            0    -832.4206  6.64727e-06 7.0076394e-06 6.7294205e-06 6.2047503e-06  0.022143139  -0.31443977  0.014676781    10.858929    16.288394    21.717858    3841.3355 
       5            0    -832.4206 1.116042e-06 5.8934429e-07 1.1408162e-06 1.6179655e-06 -0.018607895  -0.72283548 -0.012333603    10.858929    16.288394    21.717858    3841.3355 
       6            0    -832.4206 2.0061447e-07 1.5855075e-07 2.4779695e-07 1.9549573e-07  0.017543266  -0.36050899  0.011628684    10.858929    16.288394    21.717858    3841.3355 
       7            0    -832.4206 1.1148773e-07 -4.6281339e-07 4.3300398e-07 3.6427261e-07 -0.011465042  -0.65125496 -0.0075997066    10.858929    16.288394    21.717858    3841.3355 
       8            0    -832.4206 -7.178464e-08 -4.1886134e-07 1.3372454e-07 6.9782882e-08 0.0081638566  -0.45451236 0.0054116206    10.858929    16.288394    21.717858    3841.3355 
       9            0    -832.4206 -6.7525675e-08 -6.0974414e-07 2.3739024e-07 1.6977688e-07 -0.0052804309  -0.58926842 -0.0035002822    10.858929    16.288394    21.717858    3841.3355 
      10            0    -832.4206 -1.1071787e-07 -5.5291613e-07 1.4447859e-07 7.6283914e-08 0.0036876192   -0.4993776 0.0024444779    10.858929    16.288394    21.717858    3841.3355 
      11            0    -832.4206 -9.9165072e-08 -6.2641644e-07 2.0263976e-07 1.2628146e-07 -0.002498803  -0.56138783 -0.0016564273    10.858929    16.288394    21.717858    3841.3355 
      12            0    -832.4206 -1.1401877e-07 -5.9677191e-07 1.6622432e-07 8.8491273e-08 0.0014705153  -0.52160037 0.00097480691    10.858929    16.288394    21.717858    3841.3355 
      13            0    -832.4206 -1.0676098e-07 -6.2343486e-07 1.9163304e-07 1.1151887e-07 -0.00094417793  -0.54580511 -0.0006259018    10.858929    16.288394    21.717858    3841.3355 
      14            0    -832.4206 -1.1108758e-07 -6.1143807e-07 1.7940995e-07 9.876537e-08 0.00052881842  -0.53103944 0.00035057433    10.858929    16.288394    21.717858    3841.3355 
      15            0    -832.4206 -1.084024e-07 -6.2201901e-07 1.8943707e-07 1.0737475e-07 -0.00031532133  -0.53950186 -0.00020905458    10.858929    16.288394    21.717858    3841.3355 
      16            0    -832.4206 -1.0992057e-07 -6.1789253e-07 1.8590053e-07 1.0223029e-07 0.00020181223  -0.53431703 0.00013381826    10.858929    16.288394    21.717858    3841.3355 
      17            0    -832.4206 -1.0874153e-07 -6.2210445e-07 1.9059503e-07 1.0528483e-07 -0.00012258525  -0.53757016 -8.1306292e-05    10.858929    16.288394    21.717858    3841.3355 
      18            0    -832.4206 -1.0934245e-07 -6.2054203e-07 1.8933619e-07 1.0317849e-07 7.769694e-05  -0.53556093 5.1555969e-05    10.858929    16.288394    21.717858    3841.3355 
      19            0    -832.4206 -1.0899836e-07 -6.2195317e-07 1.9100386e-07 1.0395425e-07 -3.6656288e-05   -0.5367088 -2.4344458e-05    10.858929    16.288394    21.717858    3841.3355 
      20            0    -832.4206 -1.0928175e-07 -6.2166953e-07 1.9066726e-07  1.03157e-07 2.0310899e-05  -0.53613614 1.3516743e-05    10.858929    16.288394    21.717858    3841.3355 
      21            0    -832.4206 -1.0921018e-07 -6.2209826e-07 1.9109239e-07 1.0337532e-07 -1.0659711e-05  -0.53644831 -7.1177035e-06    10.858929    16.288394    21.717858    3841.3355 
      22            0    -832.4206 -1.0923183e-07 -6.2201097e-07 1.9108357e-07 1.032319e-07 5.6460357e-06  -0.53628308 3.7996208e-06    10.858929    16.288394    21.717858    3841.3355 
      23            0    -832.4206 -1.0919128e-07 -6.2216373e-07 1.9130169e-07 1.0328821e-07 -4.7470026e-06  -0.53638982 -3.2461326e-06    10.858929    16.288394    21.717858    3841.3355 
      24            0    -832.4206 -1.0927784e-07 -6.2219093e-07 1.9130317e-07 1.0305424e-07 2.2552365e-06  -0.53631662 1.5796091e-06    10.858929    16.288394    21.717858    3841.3355 
      25            0    -832.4206 -1.0914886e-07 -6.2218226e-07 1.9146098e-07 1.0327469e-07 -2.2210585e-06  -0.53636535 -1.6239811e-06    10.858929    16.288394    21.717858    3841.3355 
      26            0    -832.4206 -1.0918076e-07 -6.2223038e-07 1.9146316e-07 1.0322493e-07 1.5418815e-06  -0.53632251 1.1839057e-06    10.858929    16.288394    21.717858    3841.3355 
      27            0    -832.4206 -1.0916788e-07 -6.2225022e-07 1.9151264e-07 1.0323395e-07 -8.4486198e-07  -0.53635102 -6.7897047e-07    10.858929    16.288394    21.717858    3841.3355 
      28            0    -832.4206 -1.0919785e-07 -6.2224326e-07 1.9147764e-07 1.0317206e-07 8.9175595e-07  -0.53632908 7.5054646e-07    10.858929    16.288394    21.717858    3841.3355 
      29            0    -832.4206 -1.0919456e-07 -6.2225914e-07 1.9144567e-07 1.0322979e-07 -5.6830784e-07   -0.5363482 -4.9322023e-07    10.858929    16.288394    21.717858    3841.3355 
      30            0    -832.4206 -1.0921152e-07 -6.2224955e-07 1.914641e-07 1.0315089e-07 5.1091211e-07  -0.53633364 4.521643e-07    10.858929    16.288394    21.717858    3841.3355 
      31            0    -832.4206 -1.0920435e-07 -6.2224498e-07 1.9147062e-07 1.0316129e-07 -4.7733238e-07  -0.53634719 -4.2672539e-07    10.858929    16.288394    21.717858    3841.3355 
      32            0    -832.4206 -1.091677e-07 -6.2221553e-07 1.9149261e-07 1.0321983e-07 4.5182522e-07  -0.53633435 4.0610649e-07    10.858929    16.288394    21.717858    3841.3355 
      33            0    -832.4206 -1.0917397e-07 -6.2226912e-07 1.9147871e-07 1.0326849e-07 -3.6280043e-07  -0.53634565 -3.2686734e-07    10.858929    16.288394    21.717858    3841.3355 
      34            0    -832.4206 -1.0913729e-07 -6.2223442e-07 1.9151981e-07 1.0330274e-07 3.4841026e-07  -0.53633576 3.1456883e-07    10.858929    16.288394    21.717858    3841.3355 
      35            0    -832.4206 -1.0919577e-07 -6.2228611e-07 1.9146951e-07 1.0322931e-07 -4.6357731e-07  -0.53634707 -4.1883787e-07    10.858929    16.288394    21.717858    3841.3355 
      36            0    -832.4206 -1.0919823e-07 -6.2221137e-07 1.9147179e-07 1.031449e-07 4.3591024e-07  -0.53633454 3.9377099e-07    10.858929    16.288394    21.717858    3841.3355 
      37            0    -832.4206 -1.0924053e-07 -6.2226867e-07 1.9141475e-07 1.0313234e-07 -5.4069401e-07  -0.53634814 -4.8848495e-07    10.858929    16.288394    21.717858    3841.3355 
      38            0    -832.4206 -1.0914645e-07 -6.2220439e-07 1.9151825e-07 1.0324679e-07 7.9878949e-07  -0.53632948 7.2165467e-07    10.858929    16.288394    21.717858    3841.3355 
      39            0    -832.4206 -1.0918464e-07 -6.2222231e-07 1.9142847e-07 1.0323993e-07 -4.9950857e-07  -0.53634757 -4.513223e-07    10.858929    16.288394    21.717858    3841.3355 
      40            0    -832.4206 -1.0920102e-07 -6.2216433e-07 1.9141519e-07 1.0314609e-07 2.8423046e-07  -0.53633665 2.5669443e-07    10.858929    16.288394    21.717858    3841.3355 
      41            0    -832.4206 -1.0925203e-07 -6.2231191e-07 1.913824e-07 1.0317342e-07 -3.005289e-07  -0.53634479 -2.7110754e-07    10.858929    16.288394    21.717858    3841.3355 
      42            0    -832.4206 -1.0917094e-07 -6.2225316e-07 1.9148266e-07 1.0325768e-07 1.3176187e-07  -0.53633878 1.1847764e-07    10.858929    16.288394    21.717858    3841.3355 
      43            0    -832.4206 -1.0917784e-07 -6.2219897e-07 1.9153422e-07 1.0313124e-07 -8.8450935e-08  -0.53634183 -7.9197459e-08    10.858929    16.288394    21.717858    3841.3355 
      44            0    -832.4206 -1.0918554e-07 -6.2221153e-07 1.9148106e-07 1.0317384e-07 5.3443826e-08  -0.53633988 4.7287034e-08    10.858929    16.288394    21.717858    3841.3355 
      45            0    -832.4206 -1.09173e-07 -6.2215019e-07 1.9146011e-07 1.0317109e-07 -3.4512851e-08  -0.53634107 -2.9881347e-08    10.858929    16.288394    21.717858    3841.3355 
      46            0    -832.4206 -1.0913752e-07 -6.2218934e-07 1.9157733e-07 1.0319944e-07 1.231622e-08  -0.53634045 1.0290145e-08    10.858929    16.288394    21.717858    3841.3355 
      47            0    -832.4206 -1.0919055e-07 -6.2219801e-07 1.9143913e-07 1.0318724e-07 -8.7573506e-09  -0.53634072 -6.9156293e-09    10.858929    16.288394    21.717858    3841.3355 
      48            0    -832.4206 -1.0918308e-07 -6.2218969e-07 1.9144303e-07 1.0319743e-07 4.3008975e-09  -0.53634057 3.0028311e-09    10.858929    16.288394    21.717858    3841.3355 
      49            0    -832.4206 -1.0921485e-07 -6.2227323e-07 1.915157e-07 1.0311297e-07  -1.8199e-09  -0.53634062 -9.1562649e-10    10.858929    16.288394    21.717858    3841.3355 
      50            0    -832.4206 -1.0919612e-07 -6.2222716e-07 1.914671e-07 1.031717e-07 1.777797e-09   -0.5363406 6.4049179e-10    10.858929    16.288394    21.717858    3841.3355 
      51            0    -832.4206 -1.0920214e-07 -6.2222585e-07 1.9149738e-07 1.0312206e-07 -1.3255514e-09  -0.53634061 -5.4967589e-10    10.858929    16.288394    21.717858    3841.3355 
      52            0    -832.4206 -1.0919176e-07 -6.2224321e-07 1.914654e-07 1.0320252e-07 1.1260283e-09  -0.53634061 3.0045534e-10    10.858929    16.288394    21.717858    3841.3355 
Loop time of 1.91423 on 1 procs for 49 steps with 192 atoms

99.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602748     -832.420602748
  Force two-norm initial, final = 0.00296755 6.73585e-11
  Force max component initial, final = 0.000375798 1.03543e-11
  Final line search alpha, max atom move = 1 1.03543e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9106     | 1.9106     | 1.9106     |   0.0 | 99.81
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00058246 | 0.00058246 | 0.00058246 |   0.0 |  0.03
Output  | 0.0018902  | 0.0018902  | 0.0018902  |   0.0 |  0.10
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.00112    |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.420602748076
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.09191761589282e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -6.22243208727484e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.91465403038671e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.03202520920967e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 1.12602831068387e-09
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal -0.536340610283151
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal 3.00455338155102e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 6.22260359928784e-05
variable C2pos equal ${d2}
variable C2pos equal -1.91487509138516e-05
variable C3pos equal ${d3}
variable C3pos equal -1.03116950371475e-05
variable C4pos equal ${d4}
variable C4pos equal 6.0660851492728e-09
variable C5pos equal ${d5}
variable C5pos equal 53.6340610444752
variable C6pos equal ${d6}
variable C6pos equal -1.60739797720011e-07

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(${C1neg}+${C1pos})
variable C15 equal 0.5*(-6.22269476090638e-05+${C1pos})
variable C15 equal 0.5*(-6.22269476090638e-05+6.22260359928784e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(${C2neg}+${C2pos})
variable C25 equal 0.5*(1.91399872427001e-05+${C2pos})
variable C25 equal 0.5*(1.91399872427001e-05+-1.91487509138516e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(${C3neg}+${C3pos})
variable C35 equal 0.5*(1.03037364849624e-05+${C3pos})
variable C35 equal 0.5*(1.03037364849624e-05+-1.03116950371475e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(${C4neg}+${C4pos})
variable C45 equal 0.5*(-7.11113936977709e-07+${C4pos})
variable C45 equal 0.5*(-7.11113936977709e-07+6.0660851492728e-09)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(${C5neg}+${C5pos})
variable C55 equal 0.5*(53.6340600060712+${C5pos})
variable C55 equal 0.5*(53.6340600060712+53.6340610444752)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(${C6neg}+${C6pos})
variable C65 equal 0.5*(-2.66551261434249e-07+${C6pos})
variable C65 equal 0.5*(-2.66551261434249e-07+-1.60739797720011e-07)

# Delete dir to make sure it is not reused

variable dir delete

# uxy Perturbation

variable dir equal 6
include displace.mod
# NOTE: This script should not need to be
# modified. See in.elastic for more info.
#
# Find which reference length to use

if "${dir} == 1" then    "variable len0 equal ${lx0}"
if "${dir} == 2" then    "variable len0 equal ${ly0}"
if "${dir} == 3" then    "variable len0 equal ${lz0}"
if "${dir} == 4" then    "variable len0 equal ${lz0}"
if "${dir} == 5" then    "variable len0 equal ${lz0}"
if "${dir} == 6" then    "variable len0 equal ${ly0}"
variable len0 equal ${ly0}
variable len0 equal 16.2883935530833

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Negative deformation

variable delta equal -${up}*${len0}
variable delta equal -1e-06*${len0}
variable delta equal -1e-06*16.2883935530833
variable deltaxy equal -${up}*xy
variable deltaxy equal -1e-06*xy
variable deltaxz equal -${up}*xz
variable deltaxz equal -1e-06*xz
variable deltayz equal -${up}*yz
variable deltayz equal -1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta -1.62883935530833e-05 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (-1.62884e-05 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206 8.5448563e-05 8.7272222e-05 8.8338354e-05 8.0735113e-05    1.0364526   -0.2894189 -0.058018339    10.858929    16.288394    21.717858    3841.3355 
       4            0    -832.4206 6.6479649e-06 6.8727521e-06 6.7421257e-06 6.3290168e-06   0.40859379  0.073923714  0.014817704    10.858929    16.288394    21.717858    3841.3355 
       5            0    -832.4206 1.0772005e-06 6.4252991e-07 9.9695342e-07 1.5921181e-06   0.64542524  -0.06312209  -0.01265123    10.858929    16.288394    21.717858    3841.3355 
       6            0    -832.4206 2.1660087e-07 7.8695268e-08 2.5413503e-07 3.1697231e-07   0.42844487  0.062433535  0.012513493    10.858929    16.288394    21.717858    3841.3355 
       7            0    -832.4206 9.7014661e-08 -4.3332446e-07 3.181413e-07 4.0622714e-07    0.6121747 -0.043880726 -0.0087946345    10.858929    16.288394    21.717858    3841.3355 
       8            0    -832.4206 -6.6700174e-08 -4.4380343e-07 7.164829e-08 1.7205461e-07   0.47776027  0.033896753 0.0067935136    10.858929    16.288394    21.717858    3841.3355 
       9            0    -832.4206 -7.0961635e-08 -6.0159098e-07 1.4208955e-07 2.4661652e-07   0.57888306 -0.024616433 -0.0049334109    10.858929    16.288394    21.717858    3841.3355 
      10            0    -832.4206 -1.0993544e-07 -5.5694416e-07 6.0484092e-08 1.6665374e-07   0.50345418  0.019029051 0.0038134983    10.858929    16.288394    21.717858    3841.3355 
      11            0    -832.4206 -9.9212962e-08 -6.2656587e-07 1.1509229e-07 2.1383469e-07   0.56120555 -0.014387486 -0.0028831684    10.858929    16.288394    21.717858    3841.3355 
      12            0    -832.4206 -1.1464426e-07 -5.9520608e-07 7.6194946e-08 1.7507837e-07   0.51998357 0.0094645502 0.0018965538    10.858929    16.288394    21.717858    3841.3355 
      13            0    -832.4206 -1.0612032e-07 -6.2522903e-07 1.0534339e-07 2.0152469e-07   0.54764776 -0.0065425138 -0.0013109117    10.858929    16.288394    21.717858    3841.3355 
      14            0    -832.4206 -1.1157907e-07 -6.101376e-07 8.965836e-08 1.8574202e-07   0.52969821 0.0038433628 0.00076998693    10.858929    16.288394    21.717858    3841.3355 
      15            0    -832.4206 -1.0813054e-07 -6.2289017e-07 1.0194362e-07 1.9655492e-07   0.54038361 -0.0023392512 -0.00046850407    10.858929    16.288394    21.717858    3841.3355 
      16            0    -832.4206 -1.1016467e-07 -6.1729738e-07 9.6878131e-08 1.8992525e-07   0.53371671 0.0015181076 0.0003039092    10.858929    16.288394    21.717858    3841.3355 
      17            0    -832.4206 -1.0860421e-07 -6.2248642e-07 1.0266599e-07 1.9400779e-07   0.53794454 -0.00092790008 -0.00018558091    10.858929    16.288394    21.717858    3841.3355 
      18            0    -832.4206 -1.0941895e-07 -6.2030936e-07 1.0078587e-07 1.9126664e-07   0.53532017 0.00059026691 0.00011788898    10.858929    16.288394    21.717858    3841.3355 
      19            0    -832.4206 -1.0898145e-07 -6.220862e-07 1.0265988e-07 1.9248198e-07   0.53682235 -0.00027858374 -5.5479188e-05    10.858929    16.288394    21.717858    3841.3355 
      20            0    -832.4206 -1.0922676e-07 -6.215937e-07 1.0231134e-07 1.9160207e-07   0.53607453 0.00015377404 3.0418762e-05    10.858929    16.288394    21.717858    3841.3355 
      21            0    -832.4206 -1.0924658e-07 -6.2218985e-07 1.027452e-07 1.9170492e-07   0.53647937 -8.0110115e-05 -1.5668912e-05    10.858929    16.288394    21.717858    3841.3355 
      22            0    -832.4206 -1.0922675e-07 -6.2194316e-07 1.0278368e-07 1.9147922e-07   0.53626829 4.1653618e-05 7.9267337e-06    10.858929    16.288394    21.717858    3841.3355 
      23            0    -832.4206 -1.0916425e-07 -6.2216611e-07 1.0301306e-07 1.916603e-07   0.53639934 -3.3644276e-05 -6.0103117e-06    10.858929    16.288394    21.717858    3841.3355 
      24            0    -832.4206 -1.0913262e-07 -6.221041e-07 1.0305443e-07 1.9165182e-07   0.53631421 1.4988291e-05 2.3825206e-06    10.858929    16.288394    21.717858    3841.3355 
      25            0    -832.4206 -1.0914773e-07 -6.2219437e-07 1.0314319e-07 1.9160798e-07   0.53636388 -1.2949487e-05 -1.4862627e-06    10.858929    16.288394    21.717858    3841.3355 
      26            0    -832.4206 -1.0915164e-07 -6.2212887e-07 1.0309573e-07 1.9157822e-07   0.53632671 7.4958226e-06 3.2218114e-07    10.858929    16.288394    21.717858    3841.3355 
      27            0    -832.4206 -1.0914625e-07 -6.2222399e-07 1.031672e-07 1.9161805e-07   0.53634702 -3.309285e-06 2.025336e-07    10.858929    16.288394    21.717858    3841.3355 
      28            0    -832.4206 -1.0917316e-07 -6.2220296e-07 1.0309967e-07 1.9158382e-07   0.53633519 2.5979931e-06 -6.3859635e-07    10.858929    16.288394    21.717858    3841.3355 
      29            0    -832.4206 -1.0919276e-07 -6.2223607e-07 1.0306248e-07 1.9159532e-07   0.53634347 -1.2627569e-06 5.9345238e-07    10.858929    16.288394    21.717858    3841.3355 
      30            0    -832.4206 -1.0919895e-07 -6.2222739e-07 1.0310258e-07 1.9152797e-07   0.53633839 9.0345282e-07 -6.4345728e-07    10.858929    16.288394    21.717858    3841.3355 
      31            0    -832.4206 -1.0921601e-07 -6.2225375e-07 1.0308331e-07 1.915224e-07   0.53634252 -7.307282e-07 6.5494421e-07    10.858929    16.288394    21.717858    3841.3355 
      32            0    -832.4206 -1.0919757e-07 -6.2222103e-07 1.0308008e-07 1.9154824e-07    0.5363389 6.3219813e-07 -6.4826255e-07    10.858929    16.288394    21.717858    3841.3355 
      33            0    -832.4206 -1.0919892e-07 -6.2226103e-07 1.0315012e-07 1.9151415e-07   0.53634195 -4.8467979e-07 5.3201528e-07    10.858929    16.288394    21.717858    3841.3355 
      34            0    -832.4206 -1.0920047e-07 -6.2228447e-07 1.0309438e-07 1.9158866e-07   0.53633934 4.5044987e-07 -5.1891021e-07    10.858929    16.288394    21.717858    3841.3355 
      35            0    -832.4206 -1.0917727e-07 -6.2221629e-07 1.0313793e-07 1.9154656e-07   0.53634229 -5.9512893e-07 6.9599912e-07    10.858929    16.288394    21.717858    3841.3355 
      36            0    -832.4206 -1.0915913e-07 -6.2220514e-07 1.0313801e-07 1.9158975e-07   0.53633902 5.6170072e-07 -6.6103515e-07    10.858929    16.288394    21.717858    3841.3355 
      37            0    -832.4206 -1.092217e-07 -6.2223787e-07 1.0303476e-07 1.9153802e-07   0.53634262 -7.1051765e-07 8.3820697e-07    10.858929    16.288394    21.717858    3841.3355 
      38            0    -832.4206 -1.0922379e-07 -6.2224396e-07 1.0301834e-07 1.9155427e-07   0.53633732 1.1612492e-06 -1.3706217e-06    10.858929    16.288394    21.717858    3841.3355 
      39            0    -832.4206 -1.0915613e-07 -6.2221596e-07 1.0312799e-07 1.9161958e-07   0.53634308 -8.7198244e-07 1.0297152e-06    10.858929    16.288394    21.717858    3841.3355 
      40            0    -832.4206 -1.0915461e-07 -6.2217774e-07 1.0307537e-07 1.9163854e-07   0.53633878 6.4754497e-07 -7.646607e-07    10.858929    16.288394    21.717858    3841.3355 
      41            0    -832.4206 -1.0914024e-07 -6.2221137e-07 1.0313244e-07 1.916582e-07    0.5363435 -1.0191106e-06 1.2036881e-06    10.858929    16.288394    21.717858    3841.3355 
      42            0    -832.4206 -1.0920981e-07 -6.2222957e-07 1.0309534e-07 1.915048e-07   0.53633875 6.5774988e-07 -7.7698164e-07    10.858929    16.288394    21.717858    3841.3355 
      43            0    -832.4206 -1.091849e-07 -6.2226196e-07 1.0311008e-07 1.9159718e-07   0.53634236 -6.1615819e-07 7.2788157e-07    10.858929    16.288394    21.717858    3841.3355 
      44            0    -832.4206 -1.0919135e-07 -6.2222583e-07 1.0308494e-07 1.9156685e-07   0.53633914 5.1837755e-07 -6.1244396e-07    10.858929    16.288394    21.717858    3841.3355 
      45            0    -832.4206 -1.0919311e-07 -6.221902e-07 1.0306471e-07 1.9154618e-07   0.53634171 -3.878151e-07 4.5824027e-07    10.858929    16.288394    21.717858    3841.3355 
      46            0    -832.4206 -1.092113e-07 -6.2225053e-07 1.0305985e-07 1.9155678e-07   0.53634018 1.5272478e-07 -1.804207e-07    10.858929    16.288394    21.717858    3841.3355 
      47            0    -832.4206 -1.091409e-07 -6.2220779e-07 1.0318629e-07 1.915988e-07   0.53634092 -1.0795373e-07 1.2774163e-07    10.858929    16.288394    21.717858    3841.3355 
      48            0    -832.4206 -1.0919435e-07 -6.2223337e-07 1.0308991e-07 1.915604e-07   0.53634048 4.5511761e-08 -5.4010365e-08    10.858929    16.288394    21.717858    3841.3355 
      49            0    -832.4206 -1.0914483e-07 -6.2219447e-07 1.0314462e-07 1.9161534e-07   0.53634065 -1.2468534e-08 1.4892047e-08    10.858929    16.288394    21.717858    3841.3355 
      50            0    -832.4206 -1.0919808e-07 -6.222697e-07 1.0306038e-07 1.9161507e-07   0.53634059 6.6678543e-09 -8.0177845e-09    10.858929    16.288394    21.717858    3841.3355 
      51            0    -832.4206 -1.0921047e-07 -6.2223199e-07 1.0312625e-07 1.9147434e-07   0.53634062 -2.6790306e-09 3.4799159e-09    10.858929    16.288394    21.717858    3841.3355 
      52            0    -832.4206 -1.0917125e-07 -6.2223209e-07 1.0307927e-07 1.9163906e-07   0.53634061 8.6072617e-10 -1.1601157e-09    10.858929    16.288394    21.717858    3841.3355 
Loop time of 1.90598 on 1 procs for 49 steps with 192 atoms

99.9% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
        -832.420602581     -832.420602748     -832.420602748
  Force two-norm initial, final = 0.00295631 6.73727e-11
  Force max component initial, final = 0.000392238 1.03922e-11
  Final line search alpha, max atom move = 1 1.03922e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9023     | 1.9023     | 1.9023     |   0.0 | 99.80
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00062156 | 0.00062156 | 0.00062156 |   0.0 |  0.03
Output  | 0.001879   | 0.001879   | 0.001879   |   0.0 |  0.10
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001226   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -6.22232089619956e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.03079266593343e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.91639058300695e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal 0.536340607715516
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 8.60726173587614e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -1.16011570196699e-09

# Compute elastic constant from pressure tensor

variable C1neg equal ${d1}
variable C1neg equal -6.22249240821256e-05
variable C2neg equal ${d2}
variable C2neg equal 1.03101372693188e-05
variable C3neg equal ${d3}
variable C3neg equal 1.91553487751203e-05
variable C4neg equal ${d4}
variable C4neg equal -1.52123189161482e-07
variable C5neg equal ${d5}
variable C5neg equal 6.99125211274511e-08
variable C6neg equal ${d6}
variable C6neg equal 53.6340608196886

# Reset box and simulation parameters

clear
box tilt large
read_restart restart.equil
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (0 0 0)
  1 by 1 by 1 MPI processor grid
  192 atoms
include potential.mod
# NOTE: This script can be modified for different pair styles
# See in.elastic for more info.

# Choose potential
pair_style		nn/angular2
pair_coeff		* * ../../TensorFlow/TrainingData/NNPotentialFinal 3.77118

# Setup neighbor style
neighbor 1.0 nsq
neigh_modify once no every 1 delay 0 check yes

# Setup minimization style
min_style	     cg
min_modify	     dmax ${dmax} line quadratic
min_modify	     dmax 0.01 line quadratic

# Setup output
thermo		1
thermo_style custom step temp pe press pxx pyy pzz pxy pxz pyz lx ly lz vol
thermo_modify norm no

# Positive deformation

variable delta equal ${up}*${len0}
variable delta equal 1e-06*${len0}
variable delta equal 1e-06*16.2883935530833
variable deltaxy equal ${up}*xy
variable deltaxy equal 1e-06*xy
variable deltaxz equal ${up}*xz
variable deltaxz equal 1e-06*xz
variable deltayz equal ${up}*yz
variable deltayz equal 1e-06*yz
if "${dir} == 1" then    "change_box all x delta 0 ${delta} xy delta ${deltaxy} xz delta ${deltaxz} remap units box"
if "${dir} == 2" then    "change_box all y delta 0 ${delta} yz delta ${deltayz} remap units box"
if "${dir} == 3" then    "change_box all z delta 0 ${delta} remap units box"
if "${dir} == 4" then    "change_box all yz delta ${delta} remap units box"
if "${dir} == 5" then    "change_box all xz delta ${delta} remap units box"
if "${dir} == 6" then    "change_box all xy delta ${delta} remap units box"
change_box all xy delta ${delta} remap units box
change_box all xy delta 1.62883935530833e-05 remap units box
  triclinic box = (0.000535482 0.000803223 0.00107096) to (10.8595 16.2892 21.7189) with tilt (1.62884e-05 0 0)

# Relax atoms positions

minimize ${etol} ${ftol} ${maxiter} ${maxeval}
minimize 0 ${ftol} ${maxiter} ${maxeval}
minimize 0 1e-10 ${maxiter} ${maxeval}
minimize 0 1e-10 100 ${maxeval}
minimize 0 1e-10 100 1000
Neighbor list info ...
  update every 1 steps, delay 0 steps, check yes
  max neighbors/atom: 2000, page size: 100000
  master list distance cutoff = 4.77118
  ghost atom cutoff = 4.77118
  1 neighbor lists, perpetual/occasional/extra = 1 0 0
  (1) pair nn/angular2, perpetual
      pair build: full/nsq
      stencil: none
      bin: none
Memory usage per processor = 3.80664 Mbytes
Step Temp PotEng Press Pxx Pyy Pzz Pxy Pxz Pyz Lx Ly Lz Volume 
       3            0    -832.4206 8.5714819e-05 8.7394326e-05  8.88106e-05 8.0939531e-05   -1.2115259  -0.28941898 -0.058018137    10.858929    16.288394    21.717858    3841.3355 
       4            0    -832.4206 6.647594e-06 6.9357208e-06 6.7202803e-06 6.286781e-06  -0.36464762  0.073595993  0.014751464    10.858929    16.288394    21.717858    3841.3355 
       5            0    -832.4206 1.0954057e-06 6.1744219e-07 1.0429217e-06 1.6258534e-06  -0.68186071 -0.062377007 -0.012501543    10.858929    16.288394    21.717858    3841.3355 
       6            0    -832.4206  2.08904e-07 1.1739797e-07 2.2482711e-07 2.8448691e-07  -0.39565734  0.060303842   0.01208639    10.858929    16.288394    21.717858    3841.3355 
       7            0    -832.4206 1.043118e-07 -4.479477e-07 3.3985768e-07 4.2102543e-07  -0.63174546  -0.04089522 -0.0081963593    10.858929    16.288394    21.717858    3841.3355 
       8            0    -832.4206 -6.9341003e-08 -4.3066971e-07 6.1578468e-08 1.6106824e-07  -0.46564548  0.030303408 0.0060736344    10.858929    16.288394    21.717858    3841.3355 
       9            0    -832.4206 -6.9092448e-08 -6.0605444e-07 1.4796424e-07 2.5081286e-07   -0.5845938  -0.02068362  -0.00414562    10.858929    16.288394    21.717858    3841.3355 
      10            0    -832.4206 -1.1032022e-07 -5.5454965e-07 5.873936e-08 1.6484964e-07  -0.50111097   0.01510111 0.0030268028    10.858929    16.288394    21.717858    3841.3355 
      11            0    -832.4206 -9.9139883e-08 -6.2636602e-07 1.1527747e-07 2.136689e-07  -0.56131471  -0.01070507 -0.0021457372    10.858929    16.288394    21.717858    3841.3355 
      12            0    -832.4206 -1.142365e-07 -5.9616818e-07 7.7320338e-08 1.7613834e-07  -0.52099903 0.0065761258 0.0013181884    10.858929    16.288394    21.717858    3841.3355 
      13            0    -832.4206 -1.0648446e-07 -6.2403684e-07 1.041089e-07 2.0047454e-07  -0.54645904 -0.0043372281 -0.00086946044    10.858929    16.288394    21.717858    3841.3355 
      14            0    -832.4206 -1.1124838e-07 -6.1106565e-07 9.0597398e-08 1.867231e-07  -0.53057811  0.002470079 0.00049523101    10.858929    16.288394    21.717858    3841.3355 
      15            0    -832.4206 -1.08327e-07 -6.2232586e-07 1.0143457e-07 1.9591029e-07  -0.53980085 -0.0014832214 -0.00029746765    10.858929    16.288394    21.717858    3841.3355 
      16            0    -832.4206 -1.0997238e-07 -6.1766646e-07 9.7308157e-08 1.9044115e-07  -0.53411556 0.00095376674 0.00019137315    10.858929    16.288394    21.717858    3841.3355 
      17            0    -832.4206 -1.0869356e-07 -6.2224248e-07 1.0242383e-07 1.9373798e-07  -0.53769498 -0.0005805522 -0.0001166032    10.858929    16.288394    21.717858    3841.3355 
      18            0    -832.4206 -1.0940939e-07 -6.2051745e-07 1.0088213e-07 1.9140716e-07  -0.53548115 0.00036841596 7.4105235e-05    10.858929    16.288394    21.717858    3841.3355 
      19            0    -832.4206 -1.0904942e-07 -6.2207813e-07 1.0265452e-07 1.9227533e-07  -0.53674613 -0.00017383236 -3.5071865e-05    10.858929    16.288394    21.717858    3841.3355 
      20            0    -832.4206 -1.092964e-07 -6.2171485e-07 1.0229802e-07 1.9152762e-07  -0.53611622 9.6195343e-05 1.9544201e-05    10.858929    16.288394    21.717858    3841.3355 
      21            0    -832.4206 -1.0920173e-07 -6.2211079e-07 1.0273423e-07 1.9177138e-07  -0.53645807 -5.0359446e-05 -1.0349516e-05    10.858929    16.288394    21.717858    3841.3355 
      22            0    -832.4206 -1.0923243e-07 -6.2201813e-07 1.0273282e-07 1.9158801e-07  -0.53627879 2.6509794e-05 5.5934605e-06    10.858929    16.288394    21.717858    3841.3355 
      23            0    -832.4206 -1.0915706e-07 -6.2216575e-07 1.0301523e-07 1.9167934e-07  -0.53639188 -2.1997684e-05 -4.8968984e-06    10.858929    16.288394    21.717858    3841.3355 
      24            0    -832.4206 -1.091754e-07 -6.2214948e-07 1.0308569e-07 1.915376e-07  -0.53631676 1.0240976e-05 2.466974e-06    10.858929    16.288394    21.717858    3841.3355 
      25            0    -832.4206 -1.0912238e-07 -6.2216185e-07 1.0312974e-07 1.9166498e-07  -0.53636318 -9.7041791e-06 -2.6850687e-06    10.858929    16.288394    21.717858    3841.3355 
      26            0    -832.4206 -1.0923836e-07 -6.2217235e-07 1.0298177e-07 1.9147551e-07   -0.5363257 6.4226589e-06 2.0751225e-06    10.858929    16.288394    21.717858    3841.3355 
      27            0    -832.4206 -1.0919954e-07 -6.2225059e-07 1.0311319e-07 1.9153878e-07  -0.53634837 -3.3514433e-06 -1.249863e-06    10.858929    16.288394    21.717858    3841.3355 
      28            0    -832.4206 -1.0918348e-07 -6.2222273e-07 1.0313734e-07 1.9153496e-07  -0.53633287 3.3488643e-06 1.4455758e-06    10.858929    16.288394    21.717858    3841.3355 
      29            0    -832.4206 -1.0919786e-07 -6.2225515e-07 1.030525e-07 1.9160906e-07  -0.53634534 -2.0513093e-06 -9.7667314e-07    10.858929    16.288394    21.717858    3841.3355 
      30            0    -832.4206 -1.0919083e-07 -6.2223943e-07 1.0312257e-07 1.9154438e-07  -0.53633648 1.7952168e-06 9.1061352e-07    10.858929    16.288394    21.717858    3841.3355 
      31            0    -832.4206 -1.0919231e-07 -6.2223906e-07 1.030633e-07 1.9159883e-07  -0.53634442 -1.6532199e-06 -8.666328e-07    10.858929    16.288394    21.717858    3841.3355 
      32            0    -832.4206 -1.0920034e-07 -6.2221507e-07 1.0302985e-07 1.9158421e-07  -0.53633704 1.5521389e-06 8.2851175e-07    10.858929    16.288394    21.717858    3841.3355 
      33            0    -832.4206 -1.092108e-07 -6.2227387e-07 1.0304813e-07 1.9159335e-07  -0.53634347 -1.2418982e-06 -6.6876479e-07    10.858929    16.288394    21.717858    3841.3355 
      34            0    -832.4206 -1.0915269e-07 -6.2217374e-07 1.031618e-07 1.9155386e-07  -0.53633787 1.1901562e-06 6.448827e-07    10.858929    16.288394    21.717858    3841.3355 
      35            0    -832.4206 -1.0916957e-07 -6.222286e-07 1.0305021e-07 1.9166969e-07  -0.53634426 -1.586095e-06 -8.6098273e-07    10.858929    16.288394    21.717858    3841.3355 
      36            0    -832.4206 -1.0921261e-07 -6.2221721e-07 1.030204e-07 1.9155897e-07  -0.53633717 1.4988196e-06 8.1425633e-07    10.858929    16.288394    21.717858    3841.3355 
      37            0    -832.4206 -1.0917911e-07 -6.2225748e-07 1.030959e-07 1.9162425e-07  -0.53634494 -1.8851468e-06 -1.0243516e-06    10.858929    16.288394    21.717858    3841.3355 
      38            0    -832.4206 -1.0923199e-07 -6.2223314e-07 1.0300066e-07 1.915365e-07  -0.53633377 2.9741207e-06 1.6160991e-06    10.858929    16.288394    21.717858    3841.3355 
      39            0    -832.4206 -1.0922529e-07 -6.2224691e-07 1.0305574e-07 1.915153e-07   -0.5363454 -2.0817147e-06 -1.1313098e-06    10.858929    16.288394    21.717858    3841.3355 
      40            0    -832.4206 -1.0921243e-07 -6.2220698e-07 1.0309725e-07 1.9147245e-07  -0.53633745 1.3748947e-06 7.4716159e-07    10.858929    16.288394    21.717858    3841.3355 
      41            0    -832.4206 -1.0921307e-07 -6.2222167e-07 1.0306637e-07 1.915161e-07  -0.53634465 -1.7569384e-06 -9.548632e-07    10.858929    16.288394    21.717858    3841.3355 
      42            0    -832.4206 -1.0918781e-07 -6.2222885e-07 1.0309752e-07 1.9156789e-07  -0.53633856 8.9073781e-07 4.8411941e-07    10.858929    16.288394    21.717858    3841.3355 
      43            0    -832.4206 -1.0921423e-07 -6.2223849e-07 1.0310043e-07 1.9149536e-07  -0.53634212 -6.5837075e-07 -3.5786372e-07    10.858929    16.288394    21.717858    3841.3355 
      44            0    -832.4206 -1.0923872e-07 -6.222417e-07 1.0307209e-07 1.9145346e-07  -0.53633963 4.257666e-07 2.3136239e-07    10.858929    16.288394    21.717858    3841.3355 
      45            0    -832.4206 -1.0920546e-07 -6.222023e-07 1.0307617e-07 1.9150974e-07  -0.53634125 -2.7724611e-07 -1.505611e-07    10.858929    16.288394    21.717858    3841.3355 
      46            0    -832.4206 -1.0920028e-07 -6.2225691e-07 1.0303222e-07 1.9162385e-07  -0.53634039 9.7464657e-08 5.2821716e-08    10.858929    16.288394    21.717858    3841.3355 
      47            0    -832.4206 -1.0924746e-07 -6.2224341e-07 1.0299275e-07 1.9150828e-07  -0.53634076 -6.5598843e-08 -3.5323412e-08    10.858929    16.288394    21.717858    3841.3355 
      48            0    -832.4206 -1.0920959e-07 -6.2224283e-07 1.030595e-07 1.9155455e-07  -0.53634055 2.7037026e-08 1.4206797e-08    10.858929    16.288394    21.717858    3841.3355 
      49            0    -832.4206 -1.0920444e-07 -6.2220829e-07 1.0310323e-07 1.9149175e-07  -0.53634063 -7.3281613e-09 -3.5862292e-09    10.858929    16.288394    21.717858    3841.3355 
      50            0    -832.4206 -1.0923653e-07 -6.2227952e-07 1.0303599e-07 1.9153393e-07   -0.5363406 3.7606429e-09 1.4054219e-09    10.858929    16.288394    21.717858    3841.3355 
      51            0    -832.4206 -1.0922466e-07 -6.2228193e-07 1.031053e-07 1.9150265e-07  -0.53634061 -1.3722241e-09 -2.0053569e-10    10.858929    16.288394    21.717858    3841.3355 
      52            0    -832.4206 -1.0922038e-07 -6.2222539e-07 1.0301097e-07 1.9155329e-07  -0.53634061 2.423474e-10 -3.8919425e-10    10.858929    16.288394    21.717858    3841.3355 
Loop time of 1.91231 on 1 procs for 49 steps with 192 atoms

100.0% CPU use with 1 MPI tasks x no OpenMP threads

Minimization stats:
  Stopping criterion = force tolerance
  Energy initial, next-to-last, final = 
         -832.42060258     -832.420602748     -832.420602748
  Force two-norm initial, final = 0.00296153 6.73461e-11
  Force max component initial, final = 0.000392238 1.03644e-11
  Final line search alpha, max atom move = 1 1.03644e-11
  Iterations, force evaluations = 49 98

MPI task timing breakdown:
Section |  min time  |  avg time  |  max time  |%varavg| %total
---------------------------------------------------------------
Pair    | 1.9086     | 1.9086     | 1.9086     |   0.0 | 99.80
Neigh   | 0          | 0          | 0          |   0.0 |  0.00
Comm    | 0.00071836 | 0.00071836 | 0.00071836 |   0.0 |  0.04
Output  | 0.0018229  | 0.0018229  | 0.0018229  |   0.0 |  0.10
Modify  | 0          | 0          | 0          |   0.0 |  0.00
Other   |            | 0.001222   |            |       |  0.06

Nlocal:    192 ave 192 max 192 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Nghost:    634 ave 634 max 634 min
Histogram: 1 0 0 0 0 0 0 0 0 0
Neighs:    0 ave 0 max 0 min
Histogram: 1 0 0 0 0 0 0 0 0 0
FullNghs:  5376 ave 5376 max 5376 min
Histogram: 1 0 0 0 0 0 0 0 0 0

Total # of neighbors = 5376
Ave neighs/atom = 28
Neighbor list builds = 0
Dangerous builds = 0

# Obtain new stress tensor

variable tmp equal pe
variable e1 equal ${tmp}
variable e1 equal -832.420602748076
variable tmp equal press
variable p1 equal ${tmp}
variable p1 equal -1.09220376114123e-07
variable tmp equal pxx
variable pxx1 equal ${tmp}
variable pxx1 equal -6.22225385933996e-07
variable tmp equal pyy
variable pyy1 equal ${tmp}
variable pyy1 equal 1.03010969884283e-07
variable tmp equal pzz
variable pzz1 equal ${tmp}
variable pzz1 equal 1.91553287707345e-07
variable tmp equal pxy
variable pxy1 equal ${tmp}
variable pxy1 equal -0.536340610238008
variable tmp equal pxz
variable pxz1 equal ${tmp}
variable pxz1 equal 2.42347400326403e-10
variable tmp equal pyz
variable pyz1 equal ${tmp}
variable pyz1 equal -3.89194248768724e-10

# Compute elastic constant from pressure tensor

variable C1pos equal ${d1}
variable C1pos equal 6.22242537135296e-05
variable C2pos equal ${d2}
variable C2pos equal -1.03033075984128e-05
variable C3pos equal ${d3}
variable C3pos equal -1.91467717157853e-05
variable C4pos equal ${d4}
variable C4pos equal 7.50310438416554e-08
variable C5pos equal ${d5}
variable C5pos equal -8.07464380133e-09
variable C6pos equal ${d6}
variable C6pos equal 53.6340609756638

# Combine positive and negative

variable C1${dir} equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(${C1neg}+${C1pos})
variable C16 equal 0.5*(-6.22249240821256e-05+${C1pos})
variable C16 equal 0.5*(-6.22249240821256e-05+6.22242537135296e-05)
variable C2${dir} equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(${C2neg}+${C2pos})
variable C26 equal 0.5*(1.03101372693188e-05+${C2pos})
variable C26 equal 0.5*(1.03101372693188e-05+-1.03033075984128e-05)
variable C3${dir} equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(${C3neg}+${C3pos})
variable C36 equal 0.5*(1.91553487751203e-05+${C3pos})
variable C36 equal 0.5*(1.91553487751203e-05+-1.91467717157853e-05)
variable C4${dir} equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(${C4neg}+${C4pos})
variable C46 equal 0.5*(-1.52123189161482e-07+${C4pos})
variable C46 equal 0.5*(-1.52123189161482e-07+7.50310438416554e-08)
variable C5${dir} equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(${C5neg}+${C5pos})
variable C56 equal 0.5*(6.99125211274511e-08+${C5pos})
variable C56 equal 0.5*(6.99125211274511e-08+-8.07464380133e-09)
variable C6${dir} equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(${C6neg}+${C6pos})
variable C66 equal 0.5*(53.6340608196886+${C6pos})
variable C66 equal 0.5*(53.6340608196886+53.6340609756638)

# Delete dir to make sure it is not reused

variable dir delete

# Output final values

variable C11all equal ${C11}
variable C11all equal 149.319717805607
variable C22all equal ${C22}
variable C22all equal 149.319717801733
variable C33all equal ${C33}
variable C33all equal 149.31971780971

variable C12all equal 0.5*(${C12}+${C21})
variable C12all equal 0.5*(79.845923950802+${C21})
variable C12all equal 0.5*(79.845923950802+79.8459239581039)
variable C13all equal 0.5*(${C13}+${C31})
variable C13all equal 0.5*(79.8459239543941+${C31})
variable C13all equal 0.5*(79.8459239543941+79.8459239573552)
variable C23all equal 0.5*(${C23}+${C32})
variable C23all equal 0.5*(79.845923957654+${C32})
variable C23all equal 0.5*(79.845923957654+79.8459239479329)

variable C44all equal ${C44}
variable C44all equal 53.6340609052817
variable C55all equal ${C55}
variable C55all equal 53.6340605252732
variable C66all equal ${C66}
variable C66all equal 53.6340608976762

variable C14all equal 0.5*(${C14}+${C41})
variable C14all equal 0.5*(2.56741932695076e-09+${C41})
variable C14all equal 0.5*(2.56741932695076e-09+5.42828456837751e-07)
variable C15all equal 0.5*(${C15}+${C51})
variable C15all equal 0.5*(-4.55808092699318e-10+${C51})
variable C15all equal 0.5*(-4.55808092699318e-10+1.2823652498195e-08)
variable C16all equal 0.5*(${C16}+${C61})
variable C16all equal 0.5*(-3.35184298000976e-10+${C61})
variable C16all equal 0.5*(-3.35184298000976e-10+9.4688282582455e-09)

variable C24all equal 0.5*(${C24}+${C42})
variable C24all equal 0.5*(-1.73693617084789e-09+${C42})
variable C24all equal 0.5*(-1.73693617084789e-09+-3.81059430015848e-07)
variable C25all equal 0.5*(${C25}+${C52})
variable C25all equal 0.5*(-4.38183557575008e-09+${C52})
variable C25all equal 0.5*(-4.38183557575008e-09+1.39779227533575e-07)
variable C26all equal 0.5*(${C26}+${C62})
variable C26all equal 0.5*(3.41483545300039e-09+${C62})
variable C26all equal 0.5*(3.41483545300039e-09+-6.11950791128728e-07)

variable C34all equal 0.5*(${C34}+${C43})
variable C34all equal 0.5*(2.62280990535014e-09+${C43})
variable C34all equal 0.5*(2.62280990535014e-09+-3.22054874009218e-08)
variable C35all equal 0.5*(${C35}+${C53})
variable C35all equal 0.5*(-3.97927609255029e-09+${C53})
variable C35all equal 0.5*(-3.97927609255029e-09+-1.40849393074284e-07)
variable C36all equal 0.5*(${C36}+${C63})
variable C36all equal 0.5*(4.28852966750125e-09+${C63})
variable C36all equal 0.5*(4.28852966750125e-09+6.87209635692607e-07)

variable C45all equal 0.5*(${C45}+${C54})
variable C45all equal 0.5*(-3.52523925914218e-07+${C54})
variable C45all equal 0.5*(-3.52523925914218e-07+1.15095018754725e-08)
variable C46all equal 0.5*(${C46}+${C64})
variable C46all equal 0.5*(-3.85460726599133e-08+${C64})
variable C46all equal 0.5*(-3.85460726599133e-08+-1.16619794135373e-07)
variable C56all equal 0.5*(${C56}+${C65})
variable C56all equal 0.5*(3.09189386630605e-08+${C65})
variable C56all equal 0.5*(3.09189386630605e-08+-2.1364552957713e-07)

# Average moduli for cubic crystals

variable C11cubic equal (${C11all}+${C22all}+${C33all})/3.0
variable C11cubic equal (149.319717805607+${C22all}+${C33all})/3.0
variable C11cubic equal (149.319717805607+149.319717801733+${C33all})/3.0
variable C11cubic equal (149.319717805607+149.319717801733+149.31971780971)/3.0
variable C12cubic equal (${C12all}+${C13all}+${C23all})/3.0
variable C12cubic equal (79.845923954453+${C13all}+${C23all})/3.0
variable C12cubic equal (79.845923954453+79.8459239558746+${C23all})/3.0
variable C12cubic equal (79.845923954453+79.8459239558746+79.8459239527934)/3.0
variable C44cubic equal (${C44all}+${C55all}+${C66all})/3.0
variable C44cubic equal (53.6340609052817+${C55all}+${C66all})/3.0
variable C44cubic equal (53.6340609052817+53.6340605252732+${C66all})/3.0
variable C44cubic equal (53.6340609052817+53.6340605252732+53.6340608976762)/3.0

variable bulkmodulus equal (${C11cubic}+2*${C12cubic})/3.0
variable bulkmodulus equal (149.319717805683+2*${C12cubic})/3.0
variable bulkmodulus equal (149.319717805683+2*79.8459239543737)/3.0
variable shearmodulus1 equal ${C44cubic}
variable shearmodulus1 equal 53.634060776077
variable shearmodulus2 equal (${C11cubic}-${C12cubic})/2.0
variable shearmodulus2 equal (149.319717805683-${C12cubic})/2.0
variable shearmodulus2 equal (149.319717805683-79.8459239543737)/2.0
variable poissonratio equal 1.0/(1.0+${C11cubic}/${C12cubic})
variable poissonratio equal 1.0/(1.0+149.319717805683/${C12cubic})
variable poissonratio equal 1.0/(1.0+149.319717805683/79.8459239543737)

# For Stillinger-Weber silicon, the analytical results
# are known to be (E. R. Cowley, 1988):
#               C11 = 151.4 GPa
#               C12 = 76.4 GPa
#               C44 = 56.4 GPa

print "========================================="
=========================================
print "Components of the Elastic Constant Tensor"
Components of the Elastic Constant Tensor
print "========================================="
=========================================

print "Elastic Constant C11all = ${C11all} ${cunits}"
Elastic Constant C11all = 149.319717805607 GPa
print "Elastic Constant C22all = ${C22all} ${cunits}"
Elastic Constant C22all = 149.319717801733 GPa
print "Elastic Constant C33all = ${C33all} ${cunits}"
Elastic Constant C33all = 149.31971780971 GPa

print "Elastic Constant C12all = ${C12all} ${cunits}"
Elastic Constant C12all = 79.845923954453 GPa
print "Elastic Constant C13all = ${C13all} ${cunits}"
Elastic Constant C13all = 79.8459239558746 GPa
print "Elastic Constant C23all = ${C23all} ${cunits}"
Elastic Constant C23all = 79.8459239527934 GPa

print "Elastic Constant C44all = ${C44all} ${cunits}"
Elastic Constant C44all = 53.6340609052817 GPa
print "Elastic Constant C55all = ${C55all} ${cunits}"
Elastic Constant C55all = 53.6340605252732 GPa
print "Elastic Constant C66all = ${C66all} ${cunits}"
Elastic Constant C66all = 53.6340608976762 GPa

print "Elastic Constant C14all = ${C14all} ${cunits}"
Elastic Constant C14all = 2.72697938082351e-07 GPa
print "Elastic Constant C15all = ${C15all} ${cunits}"
Elastic Constant C15all = 6.18392220274784e-09 GPa
print "Elastic Constant C16all = ${C16all} ${cunits}"
Elastic Constant C16all = 4.56682198012226e-09 GPa

print "Elastic Constant C24all = ${C24all} ${cunits}"
Elastic Constant C24all = -1.91398183093348e-07 GPa
print "Elastic Constant C25all = ${C25all} ${cunits}"
Elastic Constant C25all = 6.76986959789125e-08 GPa
print "Elastic Constant C26all = ${C26all} ${cunits}"
Elastic Constant C26all = -3.04267977837864e-07 GPa

print "Elastic Constant C34all = ${C34all} ${cunits}"
Elastic Constant C34all = -1.47913387477858e-08 GPa
print "Elastic Constant C35all = ${C35all} ${cunits}"
Elastic Constant C35all = -7.24143345834172e-08 GPa
print "Elastic Constant C36all = ${C36all} ${cunits}"
Elastic Constant C36all = 3.45749082680054e-07 GPa

print "Elastic Constant C45all = ${C45all} ${cunits}"
Elastic Constant C45all = -1.70507212019373e-07 GPa
print "Elastic Constant C46all = ${C46all} ${cunits}"
Elastic Constant C46all = -7.75829333976431e-08 GPa
print "Elastic Constant C56all = ${C56all} ${cunits}"
Elastic Constant C56all = -9.13632954570347e-08 GPa

print "========================================="
=========================================
print "Average properties for a cubic crystal"
Average properties for a cubic crystal
print "========================================="
=========================================

print "Bulk Modulus = ${bulkmodulus} ${cunits}"
Bulk Modulus = 103.003855238143 GPa
print "Shear Modulus 1 = ${shearmodulus1} ${cunits}"
Shear Modulus 1 = 53.634060776077 GPa
print "Shear Modulus 2 = ${shearmodulus2} ${cunits}"
Shear Modulus 2 = 34.7368969256547 GPa
print "Poisson Ratio = ${poissonratio}"
Poisson Ratio = 0.348420135501703
Total wall time: 0:00:23
